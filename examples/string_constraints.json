{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "title": "UserProfile",
  "description": "A user profile with various string constraints",
  "properties": {
    "username": {
      "type": "string",
      "minLength": 3,
      "maxLength": 20,
      "pattern": "^[a-zA-Z0-9_]+$",
      "description": "Username (alphanumeric and underscores only)"
    },
    "password": {
      "type": "string",
      "minLength": 8,
      "maxLength": 100,
      "pattern": "^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$",
      "description": "Password (must contain at least one uppercase letter, one lowercase letter, one number, and one special character)"
    },
    "email": {
      "type": "string",
      "format": "email",
      "description": "Email address"
    },
    "website": {
      "type": "string",
      "format": "uri",
      "description": "User's website URL"
    },
    "displayName": {
      "type": "string",
      "minLength": 1,
      "maxLength": 50,
      "description": "User's display name"
    },
    "bio": {
      "type": "string",
      "maxLength": 500,
      "description": "User's biography"
    },
    "birthdate": {
      "type": "string",
      "format": "date",
      "description": "User's birthdate (YYYY-MM-DD)"
    },
    "lastLogin": {
      "type": "string",
      "format": "date-time",
      "description": "User's last login timestamp"
    },
    "phone": {
      "type": "string",
      "pattern": "^\\+?[1-9]\\d{1,14}$",
      "description": "Phone number in E.164 format"
    },
    "userId": {
      "type": "string",
      "format": "uuid",
      "description": "User's unique identifier (UUID)"
    },
    "status": {
      "type": "string",
      "enum": ["active", "inactive", "suspended", "pending"],
      "description": "Account status"
    },
    "roles": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": ["admin", "moderator", "user", "guest"]
      },
      "uniqueItems": true,
      "description": "User roles"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string",
        "minLength": 1,
        "maxLength": 20,
        "pattern": "^[a-zA-Z0-9-]+$"
      },
      "description": "User tags (alphanumeric and hyphens only)"
    },
    "emails": {
      "type": "array",
      "items": {
        "type": "string",
        "format": "email"
      },
      "uniqueItems": true,
      "description": "Additional email addresses"
    },
    "socialProfiles": {
      "type": "object",
      "properties": {
        "twitter": {
          "type": "string",
          "pattern": "^@[a-zA-Z0-9_]{1,15}$",
          "description": "Twitter handle"
        },
        "facebook": {
          "type": "string",
          "format": "uri",
          "description": "Facebook profile URL"
        },
        "linkedin": {
          "type": "string",
          "format": "uri",
          "description": "LinkedIn profile URL"
        },
        "github": {
          "type": "string",
          "pattern": "^[a-zA-Z0-9-]+$",
          "description": "GitHub username"
        }
      }
    },
    "addresses": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "line1": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100
          },
          "line2": {
            "type": "string",
            "maxLength": 100
          },
          "city": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100
          },
          "postalCode": {
            "type": "string",
            "pattern": "^[A-Z0-9]{1,10}$"
          },
          "country": {
            "type": "string",
            "minLength": 2,
            "maxLength": 2,
            "pattern": "^[A-Z]{2}$"
          }
        },
        "required": ["line1", "city", "postalCode", "country"]
      }
    }
  },
  "required": ["username", "email", "password", "userId"]
} 