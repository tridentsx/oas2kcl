{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "urn:adp:helm:schemas:v1:key-management",
  "type": "object",
  "if": {"$ref": "urn:adp:helm:schemas:v1:helm-schema-validation-conditions:v1/helmSchemaValidation-true"},
  "then": {
    "allOf": [
      {
        "properties": {
          "probes": {
            "type": "object",
            "properties": {
              "metrics": {
                "allOf": [
                  {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-012-AD:v1"},
                  {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-014-AD:v1"},
                  {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-016-AD:v1"}
                ]
              },
              "shelter": {
                "allOf": [
                  {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-012-AD:v1"},
                  {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-014-AD:v1"},
                  {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-016-AD:v1"}
                ]
              },
              "vault": {
                "allOf": [
                  {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-012-AD:v1"},
                  {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-014-AD:v1"},
                  {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-016-AD:v1"}
                ]
              }
            },
            "required": ["metrics", "shelter", "vault"]
          }
        },
        "required": ["probes"]
      },
      {
        "properties": {
          "nodeSelector": {
            "type": ["object"],
            "properties": {
              "bootstrapJob": {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-045-AD:v1/nodeSelector"},
              "hooklauncher": {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-045-AD:v1/nodeSelector"},
              "kms": {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-045-AD:v1/nodeSelector"}
            }
          }
        }
      },
      {
        "$comment": "Support both service-level and pod-level 'tolerations' configuration until deprecation of service-level ends.",
        "oneOf": [
          {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-060-AD:v1/service-level"},
          {
            "properties": {
              "tolerations": {
                "type": ["object", "null"],
                "properties": {
                  "bootstrapJob": {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-060-AD:v1/tolerations"},
                  "hooklauncher": {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-060-AD:v1/tolerations"},
                  "kms": {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-060-AD:v1/tolerations"}
                }
              }
            }
          }
        ]
      },
      {
        "properties": {
          "imageCredentials": {
            "allOf": [
              {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-102:v1/imageCredentials"},
              {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-104:v1/imageCredentials"},
              {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-106:v1/imageCredentials"}
            ],
            "$comment": "log shipper is excluded",
            "properties": {
              "hooklauncher": {
                "allOf": [
                  {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-102:v1/imageCredentials"},
                  {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-104:v1/imageCredentials"},
                  {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-106:v1/imageCredentials"}
                ]
              },
              "ca": {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-106:v1/imageCredentials"},
              "metrics": {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-106:v1/imageCredentials"},
              "unsealer": {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-106:v1/imageCredentials"},
              "vault": {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-106:v1/imageCredentials"}
            },
            "required": [
              "ca",
              "metrics",
              "unsealer",
              "vault",
              "hooklauncher"
            ]
          }
        },
        "required": ["imageCredentials"]
      },
      {
        "properties": {
          "replicaCount": {
            "type": ["object"],
            "properties": {
              "kms": {
                "allOf": [
                  {"$ref": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/replicaCount-mandatory"},
                  {
                    "$comment": "Schema for DR-D1122-131 has no replica limit so the range constraint is added here",
                    "minimum": 1,
                    "maximum": 2
                  }
                ]
              }
            },
            "required": ["kms"]
          }
        },
        "required": ["replicaCount"]
      },
      {
        "properties": {
          "appArmorProfile": {
            "type": "object",
            "properties": {
              "eric-sec-key-management-kms-configurator": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-127:v1/appArmorProfile"},
              "eric-sec-key-management-metrics": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-127:v1/appArmorProfile"},
              "hooklauncher": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-127:v1/appArmorProfile"},
              "kms-ca": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-127:v1/appArmorProfile"},
              "kms-mon": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-127:v1/appArmorProfile"},
              "kms": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-127:v1/appArmorProfile"},
              "shelter": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-127:v1/appArmorProfile"}
            },
            "required": [
              "eric-sec-key-management-kms-configurator",
              "eric-sec-key-management-metrics",
              "hooklauncher",
              "kms-ca",
              "kms-mon",
              "kms",
              "shelter"
            ]
          }
        },
        "required": ["appArmorProfile"]
      },
      {
        "properties": {
          "seccompProfile": {
            "type": "object",
            "properties": {
              "eric-sec-key-management-kms-configurator": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-128:v1/seccompProfile"},
              "eric-sec-key-management-metrics": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-128:v1/seccompProfile"},
              "hooklauncher": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-128:v1/seccompProfile"},
              "kms-ca": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-128:v1/seccompProfile"},
              "kms-mon": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-128:v1/seccompProfile"},
              "kms": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-128:v1/seccompProfile"},
              "shelter": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-128:v1/seccompProfile"}
            },
            "required": [
              "eric-sec-key-management-kms-configurator",
              "eric-sec-key-management-metrics",
              "hooklauncher",
              "kms-ca",
              "kms-mon",
              "kms",
              "shelter"
            ]
          }
        },
        "required": ["seccompProfile"]
      },
      {
        "properties": {
          "bandwidth": {
            "type": "object",
            "properties": {
              "kms": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-040-AD:v1/bandwidth"}
            },
            "required": ["kms"]
          }
        },
        "required": ["bandwidth"]
      },
      {
        "properties": {
          "resources": {
            "type": "object",
            "$comment": "Skipped logshipper",
            "properties": {
              "bootstrapJob": {"$ref": "urn:adp:helm:schemas:v1:DR-D1126-005:v1"},
              "ca": {"$ref": "urn:adp:helm:schemas:v1:DR-D1126-005:v1"},
              "metrics": {"$ref": "urn:adp:helm:schemas:v1:DR-D1126-005:v1"},
              "shelter": {"$ref": "urn:adp:helm:schemas:v1:DR-D1126-005:v1"},
              "unsealer": {"$ref": "urn:adp:helm:schemas:v1:DR-D1126-005:v1"},
              "vault": {"$ref": "urn:adp:helm:schemas:v1:DR-D1126-005:v1"},
              "hooklauncher": {"$ref": "urn:adp:helm:schemas:v1:DR-D1126-005:v1"}
            },
            "required": [
              "bootstrapJob",
              "ca",
              "metrics",
              "shelter",
              "unsealer",
              "vault",
              "hooklauncher"
            ]
          }
        },
        "required": ["resources"]
      },
      {
        "properties": {
          "podPriority": {
            "type": "object",
            "properties": {
              "eric-sec-key-management-main": {"$ref": "urn:adp:helm:schemas:v1:DR-D1126-030:v1/podPriority"},
              "hooklauncher": {"$ref": "urn:adp:helm:schemas:v1:DR-D1126-030:v1/podPriority"}
            },
            "required": [
              "eric-sec-key-management-main",
              "hooklauncher"
            ]
          }
        },
        "required": ["podPriority"]
      },
      {
        "$comment": "When 'pvc' deprecation ends and these values does not have default 'null' this fragment shall be replaced with DR schemas for DR-D470204-055-A and DR-D470204-057-A",
        "properties": {
          "persistence": {
            "type": "object",
            "properties": {
              "persistentVolumeClaim": {
                "type": "object",
                "properties": {
                  "storageClassName": {
                    "description": "Name of the storage class for the persistent volume claim",
                    "$comment": "Validated by k8s, so no type constraints are included here",
                    "examples": ["network-block"]
                  },
                  "size": {
                    "description": "Requested size of volume",
                    "$comment": "Validated by k8s, so no type constraints are included here",
                    "examples": ["500Mi", "10Gi", 10000]
                  }
                }
              }
            }
          }
        }
      },
      {"$ref": "urn:adp:helm:schemas:v1:DR-D470222-010:v1"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-025-AD:v1/service-level"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-045-AD:v1/global"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-050-AD:v1"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-056-AD:v1/service-level"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-080-AD:v1/service-level"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-090-AD:v1/service-level"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-060:v1"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-065:v1"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-068:v1"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-102:v1/global"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-104:v1/global"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-106:v1/global"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-120:v1"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-113:v1/global"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-115:v1"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-123:v1"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-124:v1"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-127:v1/service-level"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-127:v1/verifyAllOrNoContainersSet"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-128:v1/service-level"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-128:v1/verifyAllOrNoContainersSet"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-133:v1"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-134:v1"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-136:v1"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-018-AD:v1"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-040-AD:v1/service-level"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-059:v1"},
      {"$ref": "urn:adp:helm:schemas:v1:DR-D1126-050:v1"},
      {"$ref": "urn:adp:helm:schemas:v1:cabootstrap-method:v1"},
      {"$ref": "urn:adp:helm:schemas:v1:hook-launcher:v1/global/hooklauncher/executor"},
      {"$ref": "urn:adp:helm:schemas:v1:hook-launcher:v1/global/hooklauncher/executorCharts"},
      {"$ref": "urn:adp:helm:schemas:v1:hook-launcher:v1/hooklauncher"},
      {"$ref": "urn:adp:helm:schemas:v1:key-management/service-specific-parameters"},
      {"$ref": "urn:adp:helm:schemas:v1:key-management/conditional-checks/replicas"}
    ]
  },
  "$defs": {
    "Service Specific Parameters": {
      "$id": "urn:adp:helm:schemas:v1:key-management/service-specific-parameters",
      "properties": {
        "logShipper": {"$comment": "LogShipper related parameter are currently not validated due to upcoming changes."},
        "persistence": {
          "type": "object",
          "properties": {
            "etcd": {
              "type": "object",
              "properties": {
                "lockTimeout": {
                  "$comment": "persistence.etcd.lockTimeout",
                  "description": "Specifies the number of seconds the leader remains active without refreshing the leader lock",
                  "type": ["string"],
                  "pattern": "^[0-9]+s$",
                  "examples": ["15s"]
                },
                "requestTimeout": {
                  "$comment": "persistence.etcd.requestTimeout",
                  "description": "Specifies timeout for requests to DCED. 5 seconds should be long enough for most cases, but can be adjusted if frequent timeouts are seen.",
                  "type": ["string"],
                  "pattern": "^[0-9]+s$",
                  "examples": ["5s"]
                },
                "serviceName": {
                  "$comment": "persistence.etcd.serviceName",
                  "description": "Service name in order to connect to DCED backend.",
                  "type": ["string"],
                  "examples": ["eric-data-distributed-coordinator-ed"]
                },
                "servicePort": {
                  "$comment": "persistence.etcd.servicePort",
                  "description": "Service port in order to connect to DCED backend.",
                  "type": ["integer"],
                  "minimum": 1024,
                  "maximum": 65535,
                  "examples": [2379]
                },
                "tls": {
                  "type": "object",
                  "properties": {
                    "trustedCaSecret": {
                      "$comment": "persistence.etcd.tls.trustedCaSecret",
                      "description": "Secret name which contains the root CA certificate. Used to verify the connection with DCED.",
                      "type": ["string"],
                      "examples": ["eric-sec-sip-tls-trusted-root-cert"]
                    }
                  },
                  "required": ["trustedCaSecret"]
                }
              },
              "required": [
                "lockTimeout",
                "requestTimeout",
                "serviceName",
                "servicePort",
                "tls"
              ]
            },
            "pvc": {
              "$comment": "pvc configuration is only for testing purposes. Parameters are not required by schema.",
              "type": "object",
              "properties": {
                "keep": {
                  "$comment": "persistence.pvc.keep",
                  "description": "Do not delete pvc after deployment is removed.",
                  "type": ["boolean"],
                  "examples": [true, false]
                },
                "size": {
                  "$comment": "Validated by k8s so no constraints added",
                  "description": "Size of the PVC storage. Deprecated (use persistence.persistentVolumeClaim.size instead)",
                  "examples": ["100Mi"]
                },
                "storage": {
                  "$comment": "Validated by k8s so no constraints added",
                  "description": "Size of the PVC storage. Deprecated (use persistence.persistentVolumeClaim.size instead)",
                  "examples": [""]
                },
                "storageClassName": {
                  "$comment": "Validated by k8s so no constraints added",
                  "description": "The storage class that will be used when requesting the PVC. Deprecated (use persistence.persistentVolumeClaim.storageClassName instead)",
                  "examples": [null]
                }
              }
            },
            "type": {
              "$comment": "persistence.type",
              "description": "Values: pvc or etcd. Decided the persistent storage type.",
              "enum": ["pvc", "etcd"],
              "examples": ["etcd"]
            }
          },
          "required": ["etcd", "type"]
        },
        "metrics": {
          "type": ["object"],
          "properties": {
            "enabled": {
              "$comment": "metrics.enabled",
              "description": "Deploy KMS with Metrics. It exposes the KMS metrics through a separate interface (container).",
              "type": ["boolean"],
              "examples": [true, false]
            },
            "serviceName": {
              "$comment": "metrics.serviceName",
              "description": "Service name of the PM server.",
              "type": ["string"],
              "examples": ["eric-pm-server"]
            }
          },
          "required": ["enabled", "serviceName"]
        },
        "service": {
          "type": ["object"],
          "properties": {
            "port": {
              "$comment": "service.port",
              "description": "Configures the port of the KMS client interface.",
              "type": ["integer"],
              "minimum": 1024,
              "maximum": 65535,
              "examples": [5432]
            },
            "tls": {
              "type": ["object"],
              "properties": {
                "enabled": {
                  "$comment": "service.tls.enabled",
                  "description": "Whether TLS is enabled for the client interface or not.",
                  "type": ["boolean"],
                  "examples": [true, false]
                },
                "serviceName": {
                  "$comment": "service.tls.serviceName",
                  "description": "Service name of the TLS certificate provider.",
                  "type": ["string"],
                  "examples": ["eric-sec-sip-tls"]
                }
              },
              "required": ["enabled", "serviceName"]
            }
          },
          "required": ["port", "tls"]
        },
        "shelter": {
          "type": ["object"],
          "properties": {
            "enabled": {
              "$comment": "shelter.enabled",
              "description": "Deploy KMS with the Shelter feature, used by SIP-TLS (if enabled during upgrade, check Upgrading KMS to enable the Shelter feature)",
              "type": ["boolean"],
              "examples": [true, false]
            }
          },
          "required": ["enabled"]
        },
        "log": {
          "type": ["object"],
          "properties": {
            "logtransformer": {
              "type": ["object"],
              "properties": {
                "serviceName": {
                  "$comment": "log.logtransformer.serviceName",
                  "description": "Log Transformer service name. This value is used when logs are output to stream.",
                  "type": ["string"],
                  "examples": ["eric-log-transformer"]
                }
              },
              "required": ["serviceName"]
            }
          },
          "required": ["logtransformer"]
        },
        "logLevel": {
          "$comment": "logLevel",
          "description": "Log level for Key Management, the supported log level (\u201cdebug\u201d, \u201cinfo\u201d, \u201cerror\u201d)",
          "enum": ["debug", "info", "error"],
          "examples": ["debug", "info"]
        },
        "deployClusterRoleBinding": {
          "$comment": "deployClusterRoleBinding",
          "description": "Whether to create resource during deployment or it is pre-deployed.",
          "type": ["boolean"],
          "examples": [true, false]
        },
        "bootstrap": {
          "type": ["object"],
          "properties": {
            "clusterDomain": {
              "$comment": "bootstrap.clusterDomain",
              "description": "The k8s cluster domain that is used when populating SAN DNS fields of bootstrapping certificates",
              "type": ["string"],
              "pattern": "^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9])(\\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9]))*$",
              "maxLength": 253,
              "examples": ["cluster.local"]
            }
          },
          "required": ["clusterDomain"]
        }
      },
      "required": [
        "persistence",
        "metrics",
        "service",
        "shelter",
        "log",
        "logLevel",
        "deployClusterRoleBinding",
        "bootstrap"
      ]
    },
    "Pod replicas number check": {
      "$id": "urn:adp:helm:schemas:v1:key-management/conditional-checks/replicas",
      "title": "Pod replicas number check",
      "$comment": "if persistence.type='etcd' then replicaCount.kms range is [1,2] otherwise only '1' is allowed",
      "if": {
        "properties": {
          "persistence": {
            "type": ["object"],
            "properties": {
              "type": {
                "enum": ["etcd"]
              }
            },
            "required": ["type"]
          }
        },
        "required": ["persistence"]
      },
      "then": {
        "properties": {
          "replicaCount": {
            "type": ["object"],
            "properties": {
              "kms": {
                "enum": [1, 2]
              }
            },
            "required": ["kms"]
          }
        },
        "required": ["replicaCount"]
      },
      "else": {
        "properties": {
          "replicaCount": {
            "type": ["object"],
            "properties": {
              "kms": {
                "enum": [1]
              }
            },
            "required": ["kms"]
          }
        },
        "required": ["replicaCount"]
      }
    },
    "75eb8b54-420e-44de-bbba-aa48c548cfe1": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1114-310:v1",
      "title": "DR-D1114-310",
      "description": "The option about how to create the log control ConfigMap shall be configurable and exposed to allow to set the option log control ConfigMap created by the service or the option log control ConfigMap not created by the service",
      "$comment": "global.log.createControlConfigmap",
      "type": "object",
      "properties": {
        "global": {
          "type": ["object", "null"],
          "properties": {
            "log": {
              "type": "object",
              "properties": {
                "createControlConfigmap": {
                  "description": "Indicate which option has to be chosen by all services to create the log control ConfigMap, default is true indicating the ConfigMap is created by the service",
                  "enum": ["true", "false"],
                  "examples": ["true", "false"]
                }
              }
            }
          }
        }
      }
    },
    "53c74c72-5402-4626-97a3-b55e6d462817": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1118-030:v1",
      "title": "DR-D1118-030",
      "description": "NeLS Site Configuration",
      "$comment": "global.licensing.sites",
      "type": "object",
      "properties": {
        "global": {
          "type": ["object", "null"],
          "properties": {
            "licensing": {
              "type": ["object", "null"],
              "properties": {
                "sites": {
                  "description": "List of key/value pairs of NeLS site configuration attributes",
                  "type": ["array", "null"],
                  "minItems": 0,
                  "maxItems": 5,
                  "items": {
                    "type": "object",
                    "properties": {
                      "hostname": {
                        "description": "The hostname or a full qualified name of NeLS site",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 253,
                        "$comment": "This regex has been checked and confirmed not vulnerable to ReDoS attacks",
                        "pattern": "^[a-zA-Z0-9]([-a-zA-Z0-9]*[a-zA-Z0-9])?(\\.[a-zA-Z0-9]([-a-zA-Z0-9]*[a-zA-Z0-9])?)*$",
                        "examples": ["localnels", "nels.site.ericsson.com"]
                      },
                      "ip": {
                        "description": "The IP address (IPv4 or IPv6) of NeLS site",
                        "type": ["string", "null"],
                        "minLength": 0,
                        "maxLength": 39,
                        "$comment": "This regex was taken from ADP LM validation logic, with empty string added. It has been checked and confirmed not vulnerable to ReDoS attacks.",
                        "pattern": "(^((([0-9][1-9])|([1-9][0-9])|[1-9]|1[0-1][0-9]|12[0-6]|12[8-9]|1[3-9][0-9]|2[0-5][0-5])\\.)((([2][5][0-5]|([2][0-4]|[1][0-9]|[0-9])?[0-9])\\.){2})([2][5][0-5]|([2][0-4]|[1][0-9]|[0-9])?[0-9])$)|(^\\s*((([0-9A-Fa-f]{1,4}:){7}(([0-9A-Fa-f]{1,4})|:))|(([0-9A-Fa-f]{1,4}:){6}(:|((25[0-5]|2[0-4][0-9]|[01]?[0-9]{1,2})(\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9]{1,2})){3})|(:[0-9A-Fa-f]{1,4})))|(([0-9A-Fa-f]{1,4}:){5}((:((25[0-5]|2[0-4][0-9]|[01]?[0-9]{1,2})(\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9]{1,2})){3})?)|((:[0-9A-Fa-f]{1,4}){1,2})))|(([0-9A-Fa-f]{1,4}:){4}(:[0-9A-Fa-f]{1,4}){0,1}((:((25[0-5]|2[0-4][0-9]|[01]?[0-9]{1,2})(\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9]{1,2})){3})?)|((:[0-9A-Fa-f]{1,4}){1,2})))|(([0-9A-Fa-f]{1,4}:){3}(:[0-9A-Fa-f]{1,4}){0,2}((:((25[0-5]|2[0-4][0-9]|[01]?[0-9]{1,2})(\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9]{1,2})){3})?)|((:[0-9A-Fa-f]{1,4}){1,2})))|(([0-9A-Fa-f]{1,4}:){2}(:[0-9A-Fa-f]{1,4}){0,3}((:((25[0-5]|2[0-4][0-9]|[01]?[0-9]{1,2})(\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9]{1,2})){3})?)|((:[0-9A-Fa-f]{1,4}){1,2})))|(([0-9A-Fa-f]{1,4}:)(:[0-9A-Fa-f]{1,4}){0,4}((:((25[0-5]|2[0-4][0-9]|[01]?[0-9]{1,2})(\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9]{1,2})){3})?)|((:[0-9A-Fa-f]{1,4}){1,2})))|(:(:[0-9A-Fa-f]{1,4}){0,5}((:((25[0-5]|2[0-4][0-9]|[01]?[0-9]{1,2})(\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9]{1,2})){3})?)|((:[0-9A-Fa-f]{1,4}){1,2}))))(%.+)?\\s*$)|(^$)",
                        "examples": [
                          null,
                          "192.168.1.1",
                          "fe80::9656:d028:8652:66b6"
                        ]
                      },
                      "priority": {
                        "description": "A priority assigned to a NeLS site. A lower number signifies higher priority.",
                        "type": ["integer", "null"],
                        "minimum": 0,
                        "maximum": 100,
                        "default": 100,
                        "examples": [null, 17]
                      }
                    },
                    "required": ["hostname"]
                  }
                }
              }
            }
          }
        }
      }
    },
    "e931869f-68e6-4c22-a842-30758dbdf64c": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1120-012-AD:v1",
      "title": "DR-D1120-012-AD",
      "description": "ADP container liveness probe configuration",
      "$comment": "probes.*.livenessProbe.timeoutSeconds",
      "type": "object",
      "properties": {
        "livenessProbe": {"$ref": "urn:adp:helm:schemas:v1:container-probes-common:v1/basicContainerProbe"}
      },
      "required": ["livenessProbe"]
    },
    "47f10dd0-f028-41ae-965a-16c040786d4d": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1120-014-AD:v1",
      "title": "DR-D1120-014-AD",
      "description": "ADP container readiness probe configuration",
      "$comment": "probes.*.readinessProbe.timeoutSeconds",
      "type": "object",
      "properties": {
        "readinessProbe": {"$ref": "urn:adp:helm:schemas:v1:container-probes-common:v1/fullContainerProbe"}
      },
      "required": ["readinessProbe"]
    },
    "582896fa-3d23-4f9a-9c0e-bf131bf758ee": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1120-016-AD:v1",
      "title": "DR-D1120-016-AD",
      "description": "ADP container startup probe configuration",
      "$comment": "probes.*.startupProbe.timeoutSeconds",
      "type": "object",
      "properties": {
        "startupProbe": {"$ref": "urn:adp:helm:schemas:v1:container-probes-common:v1/basicContainerProbe"}
      },
      "required": ["startupProbe"]
    },
    "b71dc554-35f2-49ad-acc1-bea6e0165310": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1120-025-AD:v1",
      "title": "DR-D1120-025-AD",
      "description": "ADP update strategy type configuration",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "updateStrategy-service": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-025-AD:v1/service-level",
          "$comment": "Common schema variant for a single pod service that defines update strategy at service level",
          "type": "object",
          "properties": {
            "updateStrategy": {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-025-AD:v1/updateStrategy"}
          },
          "required": ["updateStrategy"]
        },
        "updateStrategy": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-025-AD:v1/updateStrategy",
          "$comment": "Common schema variant for a multi pod service that defines update strategy at pod level",
          "type": "object",
          "properties": {
            "type": {
              "description": "Update strategy that will be employed to update pods when a template is updated with new revision",
              "$comment": "k8sCheckedValue: updateStrategy[.*].type",
              "not": {"type": "null"},
              "examples": [
                "RollingUpdate",
                "Recreate",
                "OnDelete"
              ]
            }
          },
          "required": ["type"]
        }
      }
    },
    "ef7f948e-b408-4054-8b5b-a967435e970b": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1120-030-AD:v1",
      "title": "DR-D1120-030-AD",
      "description": "Rolling update controller configuration",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "updateStrategy-service": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-030-AD:v1/service-level",
          "$comment": "Common schema variant for a single pod service that defines update strategy at service level",
          "properties": {
            "updateStrategy": {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-030-AD:v1/updateStrategy"}
          },
          "required": ["updateStrategy"]
        },
        "updateStrategy": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-030-AD:v1/updateStrategy",
          "$comment": "Common schema variant for a multi pod service that defines update strategy at pod level",
          "type": ["object"],
          "properties": {
            "rollingUpdate": {
              "type": ["object"],
              "allOf": [
                {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-030-AD:v1/rollingUpdate/maxUnavailable"},
                {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-030-AD:v1/rollingUpdate/maxSurge"}
              ]
            }
          },
          "required": ["rollingUpdate"]
        },
        "rollingUpdate-maxUnavailable": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-030-AD:v1/rollingUpdate/maxUnavailable",
          "$comment": "Rolling update controller maxUnavailable configuration",
          "properties": {
            "maxUnavailable": {
              "description": "The maximum number of pods that can be unavailable during the update process",
              "$comment": "k8sCheckedValue: updateStrategy[.*].rollingUpdate.maxUnavailable",
              "examples": ["25%", 1]
            }
          }
        },
        "rollingUpdate-maxSurge": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-030-AD:v1/rollingUpdate/maxSurge",
          "$comment": "Rolling update controller maxSurge configuration",
          "properties": {
            "maxSurge": {
              "description": "The maximum number of pods that can be created over the desired number of pods",
              "$comment": "k8sCheckedValue: updateStrategy[.*].rollingUpdate.maxSurge",
              "examples": ["50%", 0]
            }
          }
        }
      }
    },
    "9e63cab8-fa8e-4c1b-b822-e84db2b95989": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1120-045-AD:v1",
      "title": "DR-D1120-045-AD",
      "description": "Node selector configuration for workload API objects",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "nodeSelector-global": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-045-AD:v1/global",
          "$comment": "Common schema variant for the global node selector parameter",
          "properties": {
            "global": {
              "type": ["object", "null"],
              "properties": {
                "nodeSelector": {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-045-AD:v1/nodeSelector"}
              }
            }
          }
        },
        "nodeSelector-service": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-045-AD:v1/service-level",
          "$comment": "Common schema variant for a single pod service that defines node selector at service level",
          "properties": {
            "nodeSelector": {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-045-AD:v1/nodeSelector"}
          }
        },
        "nodeSelector": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-045-AD:v1/nodeSelector",
          "$comment": "Common schema variant for a multi pod service that defines node selectors at pod level",
          "type": ["object", "null"],
          "additionalProperties": {
            "description": "Node label that must be satisfied",
            "$comment": "k8sCheckedValue: nodeSelector[.*]"
          },
          "examples": [
            {
              "disktype": "ssd",
              "region": "west"
            }
          ]
        }
      }
    },
    "1854e85f-64d9-45f5-a3d4-17140f670dc9": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1120-050-AD:v1",
      "title": "DR-D1120-050-AD",
      "deprecated": true,
      "description": "Provide basic fault-tolerance by spreading pod replicas across different nodes",
      "$comment": "DR is only applicable to workloads that support multiple replicas",
      "type": "object",
      "properties": {
        "affinity": {
          "type": "object",
          "properties": {
            "podAntiAffinity": {
              "description": "Specify whether it is a (soft) preference that pod replicas be scheduled on different cluster nodes if possible, or a (hard) requirement.",
              "enum": ["soft", "hard"],
              "examples": ["soft", "hard"]
            }
          },
          "required": ["podAntiAffinity"]
        }
      },
      "required": ["affinity"]
    },
    "af876e15-3ff0-4720-a9fa-447992fcfe1f": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1120-056-AD:v1",
      "title": "DR-D1120-056-AD",
      "description": "Configure availability during voluntary disruptions",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "podDisruptionBudget-service": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-056-AD:v1/service-level",
          "$comment": "Common schema variant for a single pod service that defines pod disruption budget at service level",
          "properties": {
            "podDisruptionBudget": {
              "$comment": "Note that we do not specify type object here, as the referenced rule will anyway fail if it is not",
              "$ref": "urn:adp:helm:schemas:v1:DR-D1120-056-AD:v1/podDisruptionBudget"
            }
          },
          "required": ["podDisruptionBudget"]
        },
        "podDisruptionBudget": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-056-AD:v1/podDisruptionBudget",
          "$comment": "Ensure that at lease one of the values is not null. Both may not be set, but that is checked by k8s.",
          "anyOf": [
            {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-056-AD:v1/podDisruptionBudget/minAvailable"},
            {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-056-AD:v1/podDisruptionBudget/maxUnavailable"}
          ]
        },
        "podDisruptionBudgetMinAvailable": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-056-AD:v1/podDisruptionBudget/minAvailable",
          "type": "object",
          "properties": {
            "minAvailable": {
              "description": "Minimum number of pods to remain available during voluntary disruptions",
              "$comment": "k8sCheckedValue: podDisruptionBudget[.*].minAvailable",
              "not": {"type": "null"},
              "examples": ["50%", 2]
            },
            "maxUnavailable": {"$comment": "Must not be set alongside minAvailable, but this is checked by k8s"}
          },
          "required": ["minAvailable"]
        },
        "podDisruptionBudgetMaxUnavailable": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-056-AD:v1/podDisruptionBudget/maxUnavailable",
          "type": "object",
          "properties": {
            "minAvailable": {"$comment": "Must not be set alongside maxUnavailable, but this is checked by k8s"},
            "maxUnavailable": {
              "description": "Maximum number of pods to evict concurrently during voluntary disruptions",
              "$comment": "k8sCheckedValue: podDisruptionBudget[.*].maxUnavailable",
              "not": {"type": "null"},
              "examples": ["25%", 1]
            }
          },
          "required": ["maxUnavailable"]
        }
      }
    },
    "2cafeb96-3692-4216-89f8-43332bfc35b8": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1120-057-AD:v1",
      "title": "DR-D1120-057-AD",
      "description": "In order to minimize the impact of failure the replicas should be avoided to be scheduled on same failure domain",
      "$comment": "DR is only applicable to workloads that support multiple replicas",
      "allOf": [false],
      "$defs": {
        "affinityService": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-057-AD:v1/affinityService",
          "$comment": "Common schema variant for a single pod service that defines affinity at service level",
          "properties": {
            "affinity": {
              "type": "object",
              "$ref": "urn:adp:helm:schemas:v1:DR-D1120-057-AD:v1/affinity"
            }
          },
          "required": ["affinity"]
        },
        "affinity": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-057-AD:v1/affinity",
          "$comment": "Common schema variant for a multi pod service that defines affinity at pod level",
          "$ref": "urn:adp:helm:schemas:v1:DR-D1120-057-AD:v1/affinity/affinitySchedulingPreference"
        },
        "affinitySchedulingPreference": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-057-AD:v1/affinity/affinitySchedulingPreference",
          "type": "object",
          "properties": {
            "podAntiAffinity": {
              "description": "Specify whether it is a (soft) preference that pod replicas be scheduled on different cluster nodes if possible, or a (hard) requirement.",
              "enum": ["soft", "hard"]
            },
            "topologyKey": {
              "description": "The topology key to use as the failure domain",
              "type": "string",
              "minLength": 1,
              "maxLength": 63,
              "examples": ["kubernetes.io/hostname"]
            }
          },
          "required": ["podAntiAffinity", "topologyKey"]
        }
      }
    },
    "871ffbaf-f9c3-45bf-8244-78b6e91f5e76": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1120-060-AD:v1",
      "title": "DR-D1120-060-AD",
      "description": "Scheduling tolerations configuration",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "tolerations-service": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-060-AD:v1/service-level",
          "$comment": "Common schema variant for a single pod service that defines tolerations at service level",
          "properties": {
            "tolerations": {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-060-AD:v1/tolerations"}
          },
          "required": ["tolerations"]
        },
        "tolerations": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-060-AD:v1/tolerations",
          "$comment": "Common schema variant for a multi pod service that defines tolerations at pod level",
          "type": "array",
          "items": {
            "description": "Toleration allowing a pod to schedule / execute on tainted nodes",
            "$comment": "k8sCheckedValue: tolerations[.*]",
            "examples": [
              {
                "key": "dedicated",
                "operator": "Equal",
                "value": "elasticsearch",
                "effect": "NoSchedule"
              },
              {
                "key": "node.kubernetes.io/memory-pressure",
                "operator": "Exists",
                "effect": "NoExecute",
                "tolerationSeconds": 30
              }
            ]
          }
        }
      }
    },
    "b0c82104-a283-4f59-9aee-e9d9b33c5599": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1120-061-AD:v1",
      "title": "DR-D1120-061-AD",
      "description": "Configuration of global tolerations",
      "$comment": "global.tolerations(*)",
      "properties": {
        "global": {
          "type": ["object", "null"],
          "properties": {
            "tolerations": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "key": {
                    "description": "Taint key that the toleration applies to. If empty, operator must be Exist and the combination means to match all values and all keys",
                    "type": "string",
                    "maxLength": 63
                  },
                  "operator": {
                    "description": "Represents the relationship between a key and value",
                    "type": "string",
                    "enum": ["Exists", "Equal"]
                  },
                  "effect": {
                    "description": "Indicates the taint effect to match",
                    "type": "string",
                    "enum": [
                      "NoSchedule",
                      "PreferNoSchedule",
                      "NoExecute"
                    ]
                  },
                  "tolerationSeconds": {
                    "description": "Represents the period of time the toleration can tolerate the taint. This field only applies to NoExecute effect",
                    "type": "integer",
                    "minimum": 0
                  }
                },
                "if": {
                  "properties": {
                    "operator": {
                      "enum": ["Equal"]
                    }
                  }
                },
                "then": {
                  "properties": {
                    "value": {
                      "type": "string",
                      "description": "Taint value that the toleration matches to. If operator is 'Exists', it must be empty. Otherwise, a regular string"
                    }
                  },
                  "$comment": "operator is set to Equals, value is required",
                  "required": ["value"]
                },
                "required": ["key", "operator", "effect"]
              }
            }
          }
        }
      }
    },
    "7f3cfbef-20b8-42b2-a0df-874ce6909080": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1120-080-AD:v1",
      "title": "DR-D1120-080-AD",
      "description": "Configure upper bounds on graceful termination time",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "terminationGracePeriodSeconds-service": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-080-AD:v1/service-level",
          "$comment": "Common schema variant for a single pod service that defines termination grace period seconds at service level",
          "properties": {
            "terminationGracePeriodSeconds": {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-080-AD:v1/terminationGracePeriodSeconds"}
          },
          "required": ["terminationGracePeriodSeconds"]
        },
        "terminationGracePeriodSeconds": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-080-AD:v1/terminationGracePeriodSeconds",
          "$comment": "k8sCheckedValue: terminationGracePeriodSeconds[.*]",
          "description": "Grace period in seconds for a container to shut down before being forcibly killed",
          "minimum": 1,
          "examples": [30]
        }
      }
    },
    "dfbcf96d-9b3c-4fdc-b07f-42bfa0001c1f": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1120-090-AD:v1",
      "title": "DR-D1120-090-AD",
      "description": "Scheduling topology spread configuration",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "topologySpreadConstraints-service": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-090-AD:v1/service-level",
          "$comment": "Common schema variant for a single pod service that defines topology spread constraints at service level",
          "properties": {
            "topologySpreadConstraints": {"$ref": "urn:adp:helm:schemas:v1:DR-D1120-090-AD:v1/topologySpreadConstraints"}
          },
          "required": ["topologySpreadConstraints"]
        },
        "topologySpreadConstraints-pod": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1120-090-AD:v1/topologySpreadConstraints",
          "$comment": "Common schema variant for a multi pod service that defines topology spread constraints at pod level",
          "type": "array",
          "items": {
            "description": "Topology spread constraint",
            "$comment": "k8sCheckedValue: topologySpreadConstraints[.*]",
            "examples": [
              {
                "maxSkew": 2,
                "topologyKey": "kubernetes.io/hostname",
                "whenUnsatisfiable": "DoNotSchedule"
              }
            ]
          }
        }
      }
    },
    "a188a0ef-58fc-42a5-9724-943cefc75e77": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1121-060:v1",
      "title": "DR-D1121-060",
      "description": "Umbrella-wide labels and annotations for chart-managed resources",
      "$comment": "global.annotations",
      "type": "object",
      "properties": {
        "global": {
          "type": ["null", "object"],
          "properties": {
            "annotations": {"$ref": "urn:adp:helm:schemas:v1:labels-and-annotations-common:v1/annotations"},
            "labels": {"$ref": "urn:adp:helm:schemas:v1:labels-and-annotations-common:v1/labels"}
          }
        }
      }
    },
    "2727eb2e-d8e3-4439-8a20-4344b5b0503c": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1121-065:v1",
      "title": "DR-D1121-065",
      "description": "Service-level annotations for chart-managed resources",
      "$comment": "annotations",
      "type": "object",
      "properties": {
        "annotations": {"$ref": "urn:adp:helm:schemas:v1:labels-and-annotations-common:v1/annotations"}
      }
    },
    "26356940-a93b-478f-8dcd-1cd77e1c1c33": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1121-068:v1",
      "title": "DR-D1121-068",
      "description": "Service-level labels for chart-managed resources",
      "$comment": "labels",
      "type": "object",
      "properties": {
        "labels": {"$ref": "urn:adp:helm:schemas:v1:labels-and-annotations-common:v1/labels"}
      }
    },
    "e05612fb-8964-4cac-9d69-0fa0238b33f4": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1121-102:v1",
      "title": "DR-D1121-102",
      "description": "Image registry pull policy configurations",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "imageCredentials-global": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1121-102:v1/global",
          "$comment": "Common schema variant for the global image registry pull policy parameter",
          "properties": {
            "global": {
              "type": ["object", "null"],
              "properties": {
                "registry": {
                  "type": ["object", "null"],
                  "properties": {
                    "imagePullPolicy": {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-102:v1/imagePullPolicy"}
                  }
                }
              }
            }
          }
        },
        "imageCredentials": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1121-102:v1/imageCredentials",
          "$comment": "Common schema to define the registry.imagePullPolicy portion of imageCredentials",
          "type": "object",
          "properties": {
            "registry": {
              "type": "object",
              "properties": {
                "imagePullPolicy": {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-102:v1/imagePullPolicy"}
              }
            }
          },
          "required": ["registry"]
        },
        "imagePullPolicy": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1121-102:v1/imagePullPolicy",
          "description": "Defines kubernetes behavior for fetching container images",
          "$comment": "k8sCheckedValue: imageCredentials.*.registry.imagePullPolicy",
          "examples": ["IfNotPresent", "Always", "Never"]
        }
      }
    },
    "a4caddba-541c-4c04-98dd-4570aac33a13": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1121-104:v1",
      "title": "DR-D1121-104",
      "description": "Image registry url configurations",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "imageRegistry-global": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1121-104:v1/global",
          "$comment": "Common schema variant for the global image registry url parameter",
          "properties": {
            "global": {
              "type": ["object", "null"],
              "properties": {
                "registry": {
                  "type": ["object", "null"],
                  "properties": {
                    "url": {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-104:v1/url"}
                  }
                }
              }
            }
          }
        },
        "imageCredentials": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1121-104:v1/imageCredentials",
          "$comment": "Common schema to define the registry.url portion of imageCredentials",
          "type": "object",
          "properties": {
            "registry": {
              "type": "object",
              "properties": {
                "url": {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-104:v1/url"}
              }
            }
          },
          "required": ["registry"]
        },
        "url": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1121-104:v1/url",
          "type": ["string", "null"],
          "description": "Image registry url for container images",
          "$comment": "Could the value space be defined here? Is this always a host name?",
          "examples": ["armdocker.rnd.ericsson.se"]
        }
      }
    },
    "71b0e7b7-5dd9-4ea8-89f2-24ae20ce4a49": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1121-105:v1",
      "title": "DR-D1121-105",
      "deprecated": true,
      "description": "Configuration of image repository path",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "imageCredentials": {
          "$comment": "repoPath portion of imageCredentials",
          "$id": "urn:adp:helm:schemas:v1:DR-D1121-105:v1/imageCredentials",
          "deprecated": true,
          "type": ["object", "null"],
          "properties": {
            "repoPath": {
              "type": ["string", "null"],
              "description": "Path in the image registry to the image repo",
              "examples": ["proj-adp-ref-released"]
            }
          }
        }
      }
    },
    "4ee5e17c-b677-4eb7-b744-f6bd97e93cdf": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1121-106:v1",
      "title": "DR-D1121-106",
      "description": "Configuration of image repository path",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "imageRepoPath-global": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1121-106:v1/global",
          "$comment": "Common schema variant for the global image repo path parameter",
          "properties": {
            "global": {
              "type": ["object", "null"],
              "properties": {
                "registry": {
                  "type": ["object", "null"],
                  "properties": {
                    "repoPath": {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-106:v1/repoPath"}
                  }
                }
              }
            }
          }
        },
        "imageCredentials": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1121-106:v1/imageCredentials",
          "$comment": "Common schema to define the repoPath portion of imageCredentials",
          "type": "object",
          "properties": {
            "repoPath": {"$ref": "urn:adp:helm:schemas:v1:DR-D1121-106:v1/repoPath"}
          }
        },
        "repoPath": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1121-106:v1/repoPath",
          "description": "Path in the image registry to the image repo",
          "type": ["string", "null"],
          "pattern": "^[a-z0-9A-Z_\\.\\-\\/]*$",
          "examples": ["proj-adp-ref-released"]
        }
      }
    },
    "31a8e747-7096-498d-ada7-a49eb6e5d5b6": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1121-120:v1",
      "title": "DR-D1121-120",
      "description": "Override the base name for chart resources",
      "$comment": "nameOverride",
      "type": "object",
      "properties": {
        "nameOverride": {
          "type": ["null", "string"],
          "description": "Override the base name used for chart-managed objects",
          "examples": ["custom-name-prefix"]
        }
      }
    },
    "139030ed-7e89-4d51-932c-da44d9e18bbe": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1122-131:v1",
      "title": "DR-D1122-131",
      "description": "Manual and auto-scaling parameters",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "mixedScaling-service-level": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/service-level",
          "$comment": "Common schema variant to define automatic and manual scaling at the service-level",
          "properties": {
            "autoScaling": {"$ref": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/autoScaling"},
            "replicaCount": {"$ref": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/replicaCount"}
          },
          "required": ["autoScaling", "replicaCount"],
          "anyOf": [
            {
              "properties": {
                "autoScaling": {"$ref": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/autoScaling-isEnabled"}
              }
            },
            {
              "properties": {
                "replicaCount": {"$ref": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/replicaCount-isEnabled"}
              }
            }
          ]
        },
        "autoScaling-service-level": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/service-level/autoScaling",
          "$comment": "Common schema variant to define mandatory automatic scaling at the service-level",
          "properties": {
            "autoScaling": {"$ref": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/autoScaling-mandatory"}
          },
          "required": ["autoScaling"]
        },
        "replicaCount-service-level": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/service-level/replicaCount",
          "$comment": "Common schema variant to define mandatory manual scaling at the service-level",
          "properties": {
            "replicaCount": {"$ref": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/replicaCount-mandatory"}
          },
          "required": ["replicaCount"]
        },
        "replicaCount-mandatory": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/replicaCount-mandatory",
          "$comment": "Common schema variant for a pod that only supports replicaCount (manual) scaling",
          "allOf": [
            {"$ref": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/replicaCount"},
            {"$ref": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/replicaCount-isEnabled"}
          ]
        },
        "autoScaling-mandatory": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/autoScaling-mandatory",
          "$comment": "Common schema variant for a pod that only supports autoscaling",
          "allOf": [
            {"$ref": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/autoScaling"},
            {"$ref": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/autoScaling-isEnabled"}
          ]
        },
        "replicaCount-isEnabled": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/replicaCount-isEnabled",
          "$comment": "Common schema variant to require that replicaCount (manual) scaling is enabled (services must require at least one form of scaling)",
          "type": "integer",
          "examples": [1]
        },
        "replicaCount": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/replicaCount",
          "$comment": "k8sCheckedValue: replicaCount[.*]",
          "description": "Fixed number of pod replicas; used if autoScaling is not supported or disabled",
          "type": ["integer", "null"],
          "examples": [3]
        },
        "autoScaling-isEnabled": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/autoScaling-isEnabled",
          "$comment": "Common schema variant to require that autoScaling enabled (services must require at least one form of scaling)",
          "type": "object",
          "properties": {
            "enabled": {"const": true}
          },
          "required": ["enabled"]
        },
        "autoScaling": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1122-131:v1/autoScaling",
          "$comment": "Common schema for optional autoScaling",
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "description": "Enable or disable the horizontal pod autoscaler",
              "examples": [true]
            },
            "minReplicas": {
              "description": "Minimum number of replicas the HPA will keep up",
              "$comment": "k8sCheckedValue: autoScaling[.*].minReplicas",
              "examples": [2]
            },
            "maxReplicas": {
              "description": "Maximum number of replicas the HPA will keep up",
              "$comment": "k8sCheckedValue: autoScaling[.*].maxReplicas",
              "examples": [5]
            }
          },
          "required": ["enabled"],
          "if": {
            "properties": {
              "enabled": {"const": true}
            },
            "required": ["enabled"]
          },
          "then": {
            "required": ["minReplicas", "maxReplicas"]
          }
        }
      }
    },
    "d48265af-c53f-44ad-80e3-9188cf127bb2": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1123-113:v1",
      "title": "DR-D1123-113",
      "description": "TLS toggle and endpoint configuration",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "global": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1123-113:v1/global",
          "$comment": "Common schema variant for the global TLS toggle",
          "type": "object",
          "properties": {
            "global": {
              "type": ["object", "null"],
              "properties": {
                "security": {
                  "type": ["object", "null"],
                  "properties": {
                    "tls": {
                      "type": ["object", "null"],
                      "properties": {
                        "enabled": {
                          "description": "Enable or disable TLS for all applicable inter- and intra-service communication. Default behavior is true, and should only be set to false if required for demo configurations.",
                          "type": ["boolean", "null"],
                          "examples": [true, false]
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "endpointTLSEnforced": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1123-113:v1/endpoint/tls/enforced",
          "$comment": "Common schema fragment for configuring TLS enforcement on an endpoint",
          "type": "object",
          "properties": {
            "tls": {
              "type": "object",
              "properties": {
                "enforced": {
                  "description": "Specify if the endpoint requires TLS or allows cleartext as well (only applies if TLS is enabled)",
                  "enum": ["required", "optional"],
                  "examples": ["required", "optional"]
                }
              },
              "required": ["enforced"]
            }
          },
          "required": ["tls"]
        },
        "endpointTLSVerifyClientCertificate": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1123-113:v1/endpoint/tls/verifyClientCertificate",
          "$comment": "Common schema fragment for configuring Mutual TLS client verification on an endpoint",
          "type": "object",
          "properties": {
            "tls": {
              "type": "object",
              "properties": {
                "verifyClientCertificate": {
                  "description": "Specify if the endpoint requires clients to provide a trusted client certificate (mTLS) or not (only applies if TLS is enabled)",
                  "enum": ["required", "optional"],
                  "examples": ["required", "optional"]
                }
              },
              "required": ["verifyClientCertificate"]
            }
          },
          "required": ["tls"]
        }
      }
    },
    "372f85a1-7086-4723-8ecb-967496a56a22": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1123-114:v1",
      "title": "DR-D1123-114",
      "description": "Interface certificate configuration for application-external communication",
      "$comment": "*.[*.]certificates.trustedCertificateListName",
      "type": "object",
      "properties": {
        "certificates": {
          "type": "object",
          "properties": {
            "asymmetricKeyCertificateName": {
              "description": "Name of the private key in ADP Certificate Manager that will be used to authenticate to external services (mTLS)",
              "type": ["string", "null"],
              "examples": ["iam-authentication-ldap-client"]
            },
            "trustedCertificateListName": {
              "description": "Name of the list of certificates in ADP Certificate Manager that will be used to trust external services",
              "type": ["string", "null"],
              "examples": ["iam-authentication-ldap-client"]
            }
          },
          "if": {
            "$comment": "If a TLS client key is set, ensure a trusted certificate list is also set. It makes no sense to enable mTLS without any trusted certs.",
            "properties": {
              "asymmetricKeyCertificateName": {"type": "string"}
            }
          },
          "then": {
            "properties": {
              "trustedCertificateListName": {
                "not": {"type": "null"}
              }
            },
            "required": ["trustedCertificateListName"]
          }
        }
      },
      "required": ["certificates"]
    },
    "990797e7-4e07-4243-969f-4a33913e3850": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1123-115:v1",
      "title": "DR-D1123-115",
      "description": "Application and service level image registry credentials",
      "$comment": "imageCredentials.pullSecret",
      "type": "object",
      "properties": {
        "global": {
          "type": ["object", "null"],
          "properties": {
            "pullSecret": {
              "description": "Name of the kubernetes secret containing any required image registry credentials",
              "$comment": "k8sCheckedValue: global.pullSecret",
              "examples": ["docker-registry-credentials-secret"]
            }
          }
        },
        "imageCredentials": {
          "type": "object",
          "properties": {
            "pullSecret": {
              "description": "Name of the kubernetes secret containing any required image registry credentials; overrides global pull secret.",
              "$comment": "k8sCheckedValue: imageCredentials.pullSecret",
              "examples": ["docker-registry-credentials-secret"]
            }
          }
        }
      },
      "required": ["imageCredentials"]
    },
    "d8b607ad-2f6f-4e13-8bfd-44febeb195f2": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1123-123:v1",
      "title": "DR-D1123-123",
      "deprecated": true,
      "description": "Configure broad unix group ownership for application persistent data. Needed to handle cases where security context supplementalGroups is blocked by security policy or is insufficient.",
      "$comment": "global.fsGroup.namespace",
      "type": "object",
      "properties": {
        "global": {
          "type": ["object", "null"],
          "properties": {
            "fsGroup": {
              "type": ["object", "null"],
              "properties": {
                "manual": {
                  "description": "Directly configure group id to use for persistent data ownership; overrides namespace value, if set",
                  "$comment": "k8sCheckedValue: global.fsGroup.manual",
                  "examples": [10000]
                },
                "namespace": {
                  "description": "Use the default fsGroup for the namespace as defined by the cluster admin",
                  "type": ["boolean", "null"],
                  "examples": [true]
                }
              }
            }
          }
        }
      }
    },
    "541943ef-eb47-4364-ae72-44ff6dd8b89c": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1123-124:v1",
      "title": "DR-D1123-124",
      "deprecated": true,
      "description": "Controls creation and mapping of role bindings",
      "$comment": "global.security.policyReferenceMap",
      "type": "object",
      "properties": {
        "global": {
          "type": ["object", "null"],
          "properties": {
            "security": {
              "type": ["object", "null"],
              "properties": {
                "policyBinding": {
                  "type": ["object", "null"],
                  "properties": {
                    "create": {
                      "type": ["boolean", "null"],
                      "description": "Automatically create role bindings for each service corresponding to the cluster role associated with security policy assigned to the service",
                      "examples": [true]
                    }
                  }
                },
                "policyReferenceMap": {
                  "description": "Map internal security policies to the policies used by the customer",
                  "type": ["object", "null"],
                  "additionalProperties": {
                    "description": "Key-value pair mapping an internal security policy to a customer-defined security policy. Requires the customer's security policy and its associated cluster role have the same name.",
                    "$comment": "The example helm function handles null values, so the schema will support them as a way of cancelling a mapping",
                    "type": ["string", "null"],
                    "examples": ["customer-z-default"]
                  },
                  "examples": [
                    {
                      "default-restricted-security-policy": "customer-z-restricted",
                      "plc-5c43d80b0987ea36dfa3d5967adc18": "customer-z-network"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "cda87963-33fe-4fe9-be9c-5e04bb10f339": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1123-127:v1",
      "title": "DR-D1123-127",
      "description": "AppArmor configuration",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "appArmorProfile-service": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1123-127:v1/service-level",
          "$comment": "Common schema variant for configuring appArmorProfiles at the service level",
          "type": "object",
          "properties": {
            "appArmorProfile": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-127:v1/appArmorProfile"}
          },
          "required": ["appArmorProfile"]
        },
        "appArmorProfile": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1123-127:v1/appArmorProfile",
          "$comment": "Common schema fragment for configuring container appArmorProfiles",
          "type": "object",
          "properties": {
            "type": {
              "description": "Configure the AppArmor profile choice",
              "enum": [
                "unconfined",
                "runtime/default",
                "localhost",
                ""
              ],
              "examples": ["unconfined"]
            },
            "localhostProfile": {
              "description": "Path to the AppArmor profile to use when loading from localhost",
              "type": ["string", "null"],
              "examples": ["profiles/apparmorprofile.json"]
            }
          },
          "required": ["type"],
          "if": {
            "properties": {
              "type": {"const": "localhost"}
            },
            "required": ["type"]
          },
          "then": {
            "properties": {
              "localhostProfile": {
                "not": {"type": "null"}
              }
            },
            "required": ["localhostProfile"]
          }
        },
        "verifyAllOrNoContainersSet": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1123-127:v1/verifyAllOrNoContainersSet",
          "$comment": "Verify that either all or no containers are assigned profiles",
          "if": {
            "properties": {
              "appArmorProfile": {
                "properties": {
                  "type": {"const": ""}
                },
                "required": ["type"]
              }
            },
            "required": ["appArmorProfile"]
          },
          "then": {
            "if": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-127:v1/verifyAllContainersSet"},
            "then": true,
            "else": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-127:v1/verifyNoContainerSet"}
          }
        },
        "verifyAllContainersSet": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1123-127:v1/verifyAllContainersSet",
          "$comment": "Check that all containers have explicitly configured a value for 'type'",
          "properties": {
            "appArmorProfile": {
              "type": ["object"],
              "patternProperties": {
                "^.*$": {
                  "properties": {
                    "type": {
                      "enum": [
                        "unconfined",
                        "runtime/default",
                        "localhost"
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "verifyNoContainerSet": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1123-127:v1/verifyNoContainerSet",
          "$comment": "Check that all containers have empty string as value for 'type'",
          "properties": {
            "appArmorProfile": {
              "type": ["object"],
              "patternProperties": {
                "^.*$": {
                  "properties": {
                    "type": {"const": ""}
                  }
                }
              }
            }
          }
        }
      }
    },
    "d5aa75cc-4199-4a6c-9467-762e30f7d9ed": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1123-128:v1",
      "title": "DR-D1123-128",
      "description": "Seccomp configuration",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "seccompProfile-service": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1123-128:v1/service-level",
          "$comment": "Common schema variant for configuring seccompProfiles at the service level",
          "type": "object",
          "properties": {
            "seccompProfile": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-128:v1/seccompProfile"}
          },
          "required": ["seccompProfile"]
        },
        "seccompProfile": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1123-128:v1/seccompProfile",
          "$comment": "Common schema fragment for configuring container seccompProfiles",
          "type": "object",
          "properties": {
            "type": {
              "description": "Configure the seccomp profile choice",
              "$comment": "k8sCheckedValue: seccompProfile[.*].type",
              "examples": [
                "Unconfined",
                "RuntimeDefault",
                "Localhost",
                ""
              ]
            },
            "localhostProfile": {
              "description": "Path to the seccomp profile to use when loading from localhost",
              "$comment": "k8sCheckedValue: seccompProfile[.*].localhostProfile",
              "examples": ["profiles/seccompprofile.json"]
            }
          },
          "required": ["type"],
          "if": {
            "properties": {
              "type": {"const": "Localhost"}
            },
            "required": ["type"]
          },
          "then": {
            "properties": {
              "localhostProfile": {
                "not": {"type": "null"}
              }
            },
            "required": ["localhostProfile"]
          }
        },
        "verifyAllOrNoContainersSet": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1123-128:v1/verifyAllOrNoContainersSet",
          "$comment": "Verify that either all or no containers are assigned profiles",
          "if": {
            "properties": {
              "seccompProfile": {
                "properties": {
                  "type": {"const": ""}
                },
                "required": ["type"]
              }
            },
            "required": ["seccompProfile"]
          },
          "then": {
            "if": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-128:v1/verifyAllContainersSet"},
            "then": true,
            "else": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-128:v1/verifyNoContainerSet"}
          }
        },
        "verifyAllContainersSet": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1123-128:v1/verifyAllContainersSet",
          "$comment": "Check that all containers have explicitly configured a value for 'type'",
          "properties": {
            "seccompProfile": {
              "type": ["object"],
              "patternProperties": {
                "^.*$": {
                  "properties": {
                    "type": {
                      "not": {"const": ""}
                    }
                  }
                }
              }
            }
          }
        },
        "verifyNoContainerSet": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1123-128:v1/verifyNoContainerSet",
          "$comment": "Check that all containers have empty string as value for 'type'",
          "properties": {
            "seccompProfile": {
              "type": ["object"],
              "patternProperties": {
                "^.*$": {
                  "properties": {
                    "type": {"const": ""}
                  }
                }
              }
            }
          }
        }
      }
    },
    "60b398ad-af53-4c1d-8cad-e474e5cdb63f": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1123-133:v1",
      "title": "DR-D1123-133",
      "description": "Standardized secrets for certificates",
      "$comment": "global.security.tls.trustedInternalRootCa.secret",
      "type": "object",
      "properties": {
        "global": {
          "type": ["object", "null"],
          "properties": {
            "security": {
              "type": ["object", "null"],
              "properties": {
                "tls": {
                  "type": ["object", "null"],
                  "properties": {
                    "trustedInternalRootCa": {
                      "type": ["object", "null"],
                      "properties": {
                        "secret": {
                          "description": "The secret holding the public certificate bundle of the root CA that issues application-internal server certificates and optionally the infrastructure root CA certificates that the application trusts.",
                          "type": ["string", "null"],
                          "examples": ["eric-sec-sip-tls-trusted-root-cert"]
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "1a69ab84-1acf-46c1-8460-3194d449faef": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1123-134:v1",
      "title": "DR-D1123-134",
      "description": "Configures role binding for namespace or cluster scoped security policy roles.",
      "$comment": "global.securityPolicy.rolekind, securityPolicy.rolename",
      "type": "object",
      "properties": {
        "global": {
          "type": ["object", "null"],
          "properties": {
            "securityPolicy": {
              "type": ["object", "null"],
              "properties": {
                "rolekind": {
                  "enum": ["ClusterRole", "Role", ""],
                  "description": "Sets the rolebinding kind to namespaced, or clusterscoped",
                  "examples": ["ClusterRole", "Role", ""]
                }
              }
            }
          }
        },
        "securityPolicy": {
          "type": ["object", "null"],
          "properties": {
            "rolename": {
              "type": "string",
              "minLength": 1,
              "description": "Sets the role name to the role binding.",
              "$comment": "k8sCheckedValue: securityPolicy.rolename",
              "examples": ["restricted"]
            }
          }
        }
      }
    },
    "cbcd04e7-f5e5-4c86-b5ce-8c21a6ea3f5e": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1123-135:v1",
      "title": "DR-D1123-135",
      "description": "Configuration of supplementalGroups IDs.",
      "$comment": "podSecurityContext.supplementalGroups",
      "type": "object",
      "properties": {
        "global": {
          "type": ["object", "null"],
          "properties": {
            "podSecurityContext": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-135:v1/podSecurityContext"}
          }
        },
        "podSecurityContext": {"$ref": "urn:adp:helm:schemas:v1:DR-D1123-135:v1/podSecurityContext"}
      },
      "$defs": {
        "podSecurityContext": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1123-135:v1/podSecurityContext",
          "$comment": "This schema is not meant to be used directly by services",
          "type": ["object", "null"],
          "properties": {
            "supplementalGroups": {
              "type": ["array", "null"],
              "description": "A list of supplemental groups.",
              "items": {
                "type": "integer",
                "minimum": 0
              },
              "examples": [
                [1000, 2000, 3000]
              ]
            }
          }
        }
      }
    },
    "09b8d640-8be1-467c-a3d6-b5e6502fe516": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1123-136:v1",
      "title": "DR-D1123-136",
      "description": "Configure broad unix group ownership for application persistent data. Needed to handle cases where security context supplementalGroups is blocked by security policy or is insufficient.",
      "$comment": "global.fsGroup.namespace",
      "type": "object",
      "properties": {
        "global": {
          "type": ["object", "null"],
          "properties": {
            "fsGroup": {
              "type": ["object", "null"],
              "properties": {
                "manual": {
                  "description": "Directly configure group id to use for persistent data ownership; overrides namespace value, if set",
                  "$comment": "k8sCheckedValue: global.fsGroup.manual",
                  "examples": [10000]
                },
                "namespace": {
                  "description": "Use the default fsGroup for the namespace as defined by the cluster admin",
                  "type": ["boolean", "null"],
                  "examples": [true]
                }
              }
            }
          }
        }
      }
    },
    "3d643ed1-a76c-44d7-9503-29f8b709b3a9": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1123-137:v1",
      "title": "DR-D1123-137",
      "description": "Support of certificate revocation status check for external certificates",
      "$comment": "*.[*.]certificates.crlEnabled",
      "type": "object",
      "properties": {
        "certificates": {
          "type": "object",
          "properties": {
            "crlEnabled": {
              "description": "Indicates that CRL is enabled or disabled for the interface",
              "type": "boolean",
              "examples": [true, false]
            }
          },
          "required": ["crlEnabled"]
        }
      },
      "required": ["certificates"]
    },
    "09fde8cb-5237-4b8b-b82f-d3df83bfb3dc": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-004-AD:v1",
      "title": "DR-D1125-004-AD",
      "description": "Service VIP Address management",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "singleService": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-004-AD:v1/service-level",
          "$comment": "Common schema variant for a microservice with a single service",
          "type": "object",
          "properties": {
            "service": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-004-AD:v1/service"}
          },
          "required": ["service"]
        },
        "service": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-004-AD:v1/service",
          "$comment": "Common schema for the loadBalancerIP portion of an individual service",
          "type": "object",
          "properties": {
            "loadBalancerIP": {"$ref": "urn:adp:helm:schemas:v1:service-networking-common:v1/loadBalancerIP"}
          }
        }
      }
    },
    "6ad712e2-487e-40e0-983a-f4a75494c694": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-006-AD:v1",
      "title": "DR-D1125-006-AD",
      "description": "Service shared VIP label",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "singleService": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-006-AD:v1/service-level",
          "$comment": "Common schema variant for a microservice with a single service",
          "type": "object",
          "properties": {
            "service": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-006-AD:v1/service"}
          },
          "required": ["service"]
        },
        "service": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-006-AD:v1/service",
          "$comment": "Common schema for the sharedVIPLabel annotation portion of an individual service",
          "type": "object",
          "properties": {
            "annotations": {
              "type": "object",
              "properties": {
                "sharedVIPLabel": {"$ref": "urn:adp:helm:schemas:v1:service-networking-common:v1/sharedVIPLabel"}
              }
            }
          },
          "required": ["annotations"]
        }
      }
    },
    "ebc3dac1-1784-41ff-b505-764f9ac57f6d": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-007-AD:v1",
      "title": "DR-D1125-007-AD",
      "description": "Service shared VIP address pool",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "singleService": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-007-AD:v1/service-level",
          "$comment": "Common schema variant for a microservice with a single service",
          "type": "object",
          "properties": {
            "service": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-007-AD:v1/service"}
          },
          "required": ["service"]
        },
        "service": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-007-AD:v1/service",
          "$comment": "Common schema for the vip addressPoolName annotation portion of an individual service",
          "type": "object",
          "properties": {
            "annotations": {
              "type": "object",
              "properties": {
                "addressPoolName": {"$ref": "urn:adp:helm:schemas:v1:service-networking-common:v1/addressPoolName"}
              }
            }
          },
          "required": ["annotations"]
        }
      }
    },
    "9bcfe45b-2de2-42cd-a712-8b4a2cd89069": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-011-AD:v1",
      "title": "DR-D1125-011-AD",
      "description": "Ingress toggle",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "singleIngress": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-011-AD:v1/service-level",
          "$comment": "Common schema variant for a microservice with a single ingress",
          "type": "object",
          "properties": {
            "ingress": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-011-AD:v1/ingress"}
          },
          "required": ["ingress"]
        },
        "ingress": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-011-AD:v1/ingress",
          "$comment": "Common schema for the enabled portion of an individual ingress",
          "type": "object",
          "properties": {
            "enabled": {
              "description": "Toggle for the service ingress rule",
              "type": "boolean",
              "examples": [true]
            }
          },
          "required": ["enabled"]
        }
      }
    },
    "037cbc33-f376-430b-8f67-14a055ad8aa8": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-013-AD:v1",
      "title": "DR-D1125-013-AD",
      "description": "Ingress class",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "singleIngress": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-013-AD:v1/service-level",
          "$comment": "Common schema variant for a microservice with a single ingress",
          "type": "object",
          "properties": {
            "ingress": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-013-AD:v1/ingress"}
          },
          "required": ["ingress"]
        },
        "ingress": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-013-AD:v1/ingress",
          "$comment": "Common schema for the ingressClass portion of an individual ingress",
          "type": "object",
          "properties": {
            "ingressClass": {
              "description": "Set the ingress class name",
              "type": "string",
              "examples": ["OAM-IngressClass"]
            }
          },
          "required": ["ingressClass"]
        }
      }
    },
    "3686083b-f85e-4261-b3b5-540e112e28c2": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-014-AD:v1",
      "title": "DR-D1125-014-AD",
      "description": "Ingress TLS options",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "singleIngress": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-014-AD:v1/service-level",
          "$comment": "Common schema variant for a microservice with a single ingress",
          "type": "object",
          "properties": {
            "ingress": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-014-AD:v1/ingress"}
          },
          "required": ["ingress"]
        },
        "ingress": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-014-AD:v1/ingress",
          "$comment": "Common schema for the hostname and tls.passthrough portions of an individual ingress",
          "type": "object",
          "properties": {
            "hostname": {
              "description": "Set the host name of the service",
              "$comment": "k8sCheckedValue: ingress[.*].hostname",
              "examples": ["foo.bar.com"]
            },
            "tls": {
              "type": ["object", "null"],
              "properties": {
                "passthrough": {
                  "type": "boolean",
                  "description": "Passthrough the traffic without terminating TLS at Ingress controller",
                  "examples": [true]
                }
              }
            }
          },
          "required": ["hostname"]
        }
      }
    },
    "ee773e94-9263-4145-aece-97ff43362dd3": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-018-AD:v1",
      "title": "DR-D1125-018-AD",
      "deprecated": true,
      "description": "Internal IP Family",
      "$comment": "global.internalIPFamily",
      "type": "object",
      "properties": {
        "global": {
          "type": ["object", "null"],
          "properties": {
            "internalIPFamily": {
              "description": "IP family used for ClusterIP services",
              "$comment": "k8sCheckedValue: global.internalIPFamily",
              "examples": ["IPv4", "IPv6"]
            }
          }
        }
      }
    },
    "6018e785-605d-4f97-beec-eecac4627b3e": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-019-AD:v1",
      "title": "DR-D1125-019-AD",
      "deprecated": true,
      "description": "External IP Family Toggle",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "global": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-019-AD:v1/global",
          "$comment": "Common schema for ip family toggle global parameters",
          "type": "object",
          "properties": {
            "global": {
              "type": ["object", "null"],
              "properties": {
                "externalIPv4": {
                  "type": ["object", "null"],
                  "properties": {
                    "enabled": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-019-AD:v1/family-enabled"}
                  }
                },
                "externalIPv6": {
                  "type": ["object", "null"],
                  "properties": {
                    "enabled": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-019-AD:v1/family-enabled"}
                  }
                }
              }
            }
          }
        },
        "singleService": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-019-AD:v1/service-level",
          "$comment": "Common schema variant for a microservice with a single service",
          "type": "object",
          "properties": {
            "service": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-019-AD:v1/service"}
          },
          "required": ["service"]
        },
        "service": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-019-AD:v1/service",
          "$comment": "Common schema for the ip family toggle portion of an individual service",
          "type": "object",
          "properties": {
            "externalIPv4": {
              "type": "object",
              "properties": {
                "enabled": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-019-AD:v1/family-enabled"}
              }
            },
            "externalIPv6": {
              "type": "object",
              "properties": {
                "enabled": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-019-AD:v1/family-enabled"}
              }
            }
          },
          "required": ["externalIPv4", "externalIPv6"]
        },
        "family-enabled": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-019-AD:v1/family-enabled",
          "$comment": "Reusable definition of the ip family toggle",
          "type": ["boolean", "null"],
          "description": "Toggle creation of service manifest for the given IP family",
          "examples": [true, false, null]
        }
      }
    },
    "1ce47547-8d66-4eec-9b58-c9b0d5364ba3": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-020-AD:v1",
      "title": "DR-D1125-020-AD",
      "deprecated": true,
      "description": "Load balancer IP and IP pool",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "singleService": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-020-AD:v1/service-level",
          "$comment": "Common schema variant for a microservice with a single service",
          "type": "object",
          "properties": {
            "service": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-020-AD:v1/service"}
          },
          "required": ["service"]
        },
        "service": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-020-AD:v1/service",
          "$comment": "Common schema for the ip family load balancer IP and annotations portion of an individual service",
          "type": "object",
          "properties": {
            "externalIPv4": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-020-AD:v1/loadBalancerParams"},
            "externalIPv6": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-020-AD:v1/loadBalancerParams"}
          },
          "required": ["externalIPv4", "externalIPv6"]
        },
        "loadBalancerParams": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-020-AD:v1/loadBalancerParams",
          "type": "object",
          "properties": {
            "loadBalancerIP": {"$ref": "urn:adp:helm:schemas:v1:service-networking-common:v1/loadBalancerIP"},
            "annotations": {
              "type": "object",
              "properties": {
                "sharedVIPLabel": {"$ref": "urn:adp:helm:schemas:v1:service-networking-common:v1/sharedVIPLabel"},
                "addressPoolName": {"$ref": "urn:adp:helm:schemas:v1:service-networking-common:v1/addressPoolName"}
              }
            }
          },
          "required": ["annotations"]
        }
      }
    },
    "7236bd29-e92d-4d80-941e-369cfd58cfca": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-022-AD:v1",
      "title": "DR-D1125-022-AD",
      "description": "Service cloud load balancer annotations",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "singleService": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-022-AD:v1/service-level",
          "$comment": "Common schema variant for a microservice with a single service",
          "type": "object",
          "properties": {
            "service": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-022-AD:v1/service"}
          },
          "required": ["service"]
        },
        "service": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-022-AD:v1/service",
          "$comment": "Common schema for the cloudProviderLB annotations portion of an individual service",
          "type": "object",
          "properties": {
            "annotations": {
              "type": "object",
              "properties": {
                "cloudProviderLB": {
                  "type": ["object", "null"],
                  "description": "Service annotations to support external connectivity mechanisms and non-ECFE solutions",
                  "additionalProperties": {"type": "string"},
                  "examples": [
                    {
                      "service.beta.kubernetes.io/aws-load-balancer-type": "nlb",
                      "service.beta.kubernetes.io/aws-load-balancer-proxy-protocol": "*"
                    }
                  ]
                }
              }
            }
          },
          "required": ["annotations"]
        }
      }
    },
    "84259f41-e132-4883-bf25-738d739b922d": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-025:v1",
      "title": "DR-D1125-025",
      "description": "Define annotations to specify load balancer IP's in Kubernetes single and dual stack",
      "$comment": "service[.*].annotations.loadBalancerIPs",
      "allOf": [false],
      "$defs": {
        "singleService": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-025:v1/service-level",
          "$comment": "Common schema variant for a single pod service that defines address type at service level",
          "properties": {
            "service": {
              "type": "object",
              "$ref": "urn:adp:helm:schemas:v1:DR-D1125-025:v1/service"
            }
          },
          "required": ["service"]
        },
        "service": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-025:v1/service",
          "type": "object",
          "if": {
            "properties": {
              "type": {"const": "LoadBalancer"}
            }
          },
          "then": {
            "properties": {
              "annotations": {
                "type": "object",
                "$ref": "urn:adp:helm:schemas:v1:DR-D1125-025:v1/loadBalancerIPs"
              }
            },
            "required": ["annotations"]
          }
        },
        "loadBalancerIPs": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-025:v1/loadBalancerIPs",
          "$comment": "if empty: IP address assigned dynamically from an address pool",
          "type": "object",
          "properties": {
            "loadBalancerIPs": {
              "type": "string",
              "examples": "192.168.10.150,3002:0bd6:0000:0000:0000:ee00:0033:6778"
            }
          },
          "required": ["loadBalancerIPs"]
        }
      }
    },
    "42f9f305-9d8f-45a6-ac62-abbdc9e88490": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-029:v1",
      "title": "DR-D1125-029",
      "description": "IP address family and Kubernetes Service behavior in dual stack for internal service exposure within Kubernetes cluster",
      "type": "object",
      "properties": {
        "global": {
          "type": ["object", "null"],
          "properties": {
            "internalIPFamily": {
              "description": "Value to specify the IP families from which a Kubernetes Service is assigned an IP address",
              "enum": ["IPv4", "IPv6", "", null],
              "examples": ["IPv4"]
            }
          }
        }
      }
    },
    "b445fc5f-b1c7-454a-ac22-d44a9fea278e": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-032:v1",
      "title": "DR-D1125-032",
      "description": "Kubernetes Service behavior in dual stack for external service exposure.",
      "type": "object",
      "allOf": [false],
      "defs": {
        "global": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-032:v1/global",
          "properties": {
            "global": {
              "type": ["object", "null"],
              "properties": {
                "externalIPFamilyPolicy": {
                  "enum": ["SingleStack", "PreferDualStack"],
                  "examples": ["SingleStack", "PreferDualStack"]
                }
              }
            }
          }
        },
        "service-level": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-032:v1/service-level",
          "properties": {
            "service": {
              "type": ["object", "null"],
              "properties": {
                "externalIPFamilyPolicy": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-032:v1/externalIPFamilyPolicy"}
              }
            }
          }
        },
        "externalIPFamilyPolicy": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-032:v1/externalIPFamilyPolicy",
          "description": "value to specify the behavior of Kubernetes Service (Single-stack or as as Dual-stack service) and which IP address (IPv4 and/or IPv6 addresses) are allocated to it",
          "enum": ["SingleStack", "PreferDualStack", null],
          "examples": ["SingleStack", "PreferDualStack"]
        }
      }
    },
    "25b76231-1ed6-4b74-95a8-c9afc95fed5d": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-033:v1",
      "title": "DR-D1125-033",
      "description": "IP address family for external service exposure outside of Kubernetes cluster",
      "type": "object",
      "allOf": [false],
      "defs": {
        "global": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-033:v1/global",
          "properties": {
            "global": {
              "type": ["object", "null"],
              "properties": {
                "externalIPFamily": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-033:v1/externalIPFamily"}
              }
            }
          }
        },
        "service-level": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-033:v1/service-level",
          "properties": {
            "service": {
              "type": ["object", "null"],
              "properties": {
                "externalIPFamily": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-033:v1/externalIPFamily"}
              }
            }
          }
        },
        "externalIPFamilyPolicy": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-033:v1/externalIPFamily",
          "description": "Value to specify the address families (IPv4 and/or IPv6 addresses) from which a Kubernetes Service is assigned an IP address",
          "enum": ["IPv4", "IPv6", null],
          "examples": ["IPv4"]
        }
      }
    },
    "26d3ad81-72e0-442c-82c5-33198caa07a0": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-040-AD:v1",
      "title": "DR-D1125-040-AD",
      "description": "Traffic shaping",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "singleWorkload": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-040-AD:v1/service-level",
          "$comment": "Common schema variant for a microservice with a single workload",
          "type": "object",
          "properties": {
            "bandwidth": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-040-AD:v1/bandwidth"}
          },
          "required": ["bandwidth"]
        },
        "bandwidth": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-040-AD:v1/bandwidth",
          "$comment": "Common schema for the maxEgressRate portion of an individual workload",
          "type": "object",
          "properties": {
            "maxEgressRate": {
              "type": ["string", "null"],
              "pattern": "^([1-9][0-9]*M)?$",
              "description": "Configures workload bandwidth limits (MB/s) when supported by the cluster",
              "examples": ["30M", "200M", "", null]
            }
          }
        }
      }
    },
    "78b08609-45f8-425d-9c8b-ab863e8af049": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-059:v1",
      "title": "DR-D1125-059",
      "description": "Network Policy",
      "$comment": "networkPolicy.enabled",
      "type": "object",
      "properties": {
        "global": {
          "type": ["object", "null"],
          "properties": {
            "networkPolicy": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-059:v1/networkPolicy"}
          }
        },
        "networkPolicy": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-059:v1/networkPolicy"}
      },
      "$defs": {
        "networkPolicy": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-059:v1/networkPolicy",
          "$comment": "Reusable networkPolicy definition",
          "type": ["object", "null"],
          "properties": {
            "enabled": {
              "description": "Option to enable or disable network policy",
              "type": ["boolean", "null"],
              "examples": [true, false]
            }
          }
        }
      }
    },
    "d02b30a6-19b0-405d-a206-932574e37e22": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-100:v1",
      "title": "DR-D1125-100",
      "description": "External-facing k8s service type configuration",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "singleService": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-100:v1/service-level",
          "$comment": "Common schema variant for a microservice with a single service",
          "type": "object",
          "properties": {
            "service": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-100:v1/service"}
          },
          "required": ["service"]
        },
        "service": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-100:v1/service",
          "$comment": "Common schema for the service type portion of an individual service",
          "type": "object",
          "properties": {
            "type": {
              "description": "Type to be used for the externally available k8s service",
              "$comment": "Limited subset of the values allowed by k8s",
              "enum": ["LoadBalancer", "ClusterIP"],
              "examples": ["LoadBalancer", "ClusterIP"]
            }
          },
          "required": ["type"]
        }
      }
    },
    "3c0e6dba-96bb-49e1-a7c0-00de14fafa77": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-102:v1",
      "title": "DR-D1125-102",
      "description": "Disabling NodePort allocation for external service exposure outside of k8s cluster",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "singleService": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-102:v1/service-level",
          "$comment": "Common schema variant for a microservice with a single service",
          "type": "object",
          "properties": {
            "service": {"$ref": "urn:adp:helm:schemas:v1:DR-D1125-102:v1/service"}
          },
          "required": ["service"]
        },
        "service": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-102:v1/service",
          "$comment": "Common schema for the allocateLoadBalancerNodePorts portion of an individual service",
          "type": "object",
          "properties": {
            "allocateLoadBalancerNodePorts": {
              "description": "Specify if node ports are allocated when the service is exposed externally",
              "$comment": "k8sCheckedValue: service[.*].allocateLoadBalancerNodePorts",
              "not": {"type": "null"},
              "examples": [true, false]
            }
          },
          "required": ["allocateLoadBalancerNodePorts"]
        }
      }
    },
    "f9d0f609-c92f-4966-94f2-29389223e08b": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-103:v1",
      "title": "DR-D1125-103",
      "description": "Configuration controlling on which controller/protocol/endpoint the secondary networking will be enabled",
      "$comment": "secondaryNetwork.[*]",
      "allOf": [false],
      "$defs": {
        "single-secondaryNetwork": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-103:v1/single-secondaryNetwork",
          "properties": {
            "secondaryNetwork": {
              "$comment": "Note that we do not specify type object here, as the referenced rule will anyway fail if it is not",
              "$ref": "urn:adp:helm:schemas:v1:DR-D1125-103:v1/secondaryNetwork"
            }
          }
        },
        "secondaryNetwork": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1125-103:v1/secondaryNetwork",
          "type": ["object", "null"],
          "properties": {
            "enabled": {
              "description": "Option to enable or disable the use of secondary network.",
              "type": "boolean"
            }
          },
          "required": ["enabled"]
        }
      }
    },
    "b9ff9f81-c6bf-4a82-b1c7-28a55287f834": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1125-110:v1",
      "title": "DR-D1125-110",
      "description": "DSCP marking on port level",
      "$comment": "service.*.dscp",
      "type": ["object", "null"],
      "properties": {
        "dscp": {
          "description": "Configure DSCP classification",
          "type": ["integer", "null"],
          "minimum": 0,
          "maximum": 63,
          "examples": [1]
        }
      }
    },
    "0da1b5a7-5d66-4e28-ad91-f8bcd60a504e": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1126-005:v1",
      "title": "DR-D1126-005",
      "description": "Pod definitions SHALL specify resource requests and limits for all listed containers",
      "$comment": "resources.*.limits.ephemeral-storage",
      "type": "object",
      "properties": {
        "requests": {"$ref": "urn:adp:helm:schemas:v1:DR-D1126-005:v1/podResource"},
        "limits": {"$ref": "urn:adp:helm:schemas:v1:DR-D1126-005:v1/podResource"}
      },
      "required": ["requests", "limits"],
      "$defs": {
        "podResource": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1126-005:v1/podResource",
          "description": "Pod resource request and limit parameters",
          "type": "object",
          "properties": {
            "memory": {
              "description": "The memory request or limit",
              "$comment": "k8sCheckedValue: resources.*.limits.memory",
              "examples": ["64Mi", 128974848]
            },
            "cpu": {
              "description": "The cpu request or limit",
              "$comment": "k8sCheckedValue: resources.*.limits.cpu",
              "examples": ["250m", 0.5]
            },
            "ephemeral-storage": {
              "description": "The ephemeral storage reqeust or limit",
              "$comment": "k8sCheckedValue: resources.*.limits.ephemeral-storage",
              "examples": ["2Gi", 128974848]
            }
          }
        }
      }
    },
    "74651115-a5c2-4e1f-a6b8-aa996ff06f28": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1126-010:v1",
      "title": "DR-D1126-010",
      "deprecated": true,
      "description": "ADP Service based on Java implementation SHALL define heap size percentage in relation to the container Limit",
      "$comment": "resources.*.jvm.largeMemoryAllocationMaxPercentage",
      "type": "object",
      "properties": {
        "limits": {
          "$comment": "Further constrains the resource limits defined in DR-D1126-005 to require that memory limits are set",
          "type": "object",
          "properties": {
            "memory": {
              "not": {"type": "null"}
            }
          },
          "required": ["memory"]
        },
        "jvm": {
          "description": "Java virtual machine",
          "type": "object",
          "properties": {
            "initialMemoryAllocationPercentage": {
              "description": "The initial amount of memory percentage that the JVM heap can use in relation to the container memory limit",
              "type": "string",
              "pattern": "^([1-9][0-9]?|100)%$",
              "examples": ["50%"]
            },
            "smallMemoryAllocationMaxPercentage": {
              "description": "The maximum amount of memory percentage that the JVM heap can use in relation to the container memory limit (when the container memory limit < 1.3 Gi)",
              "type": "string",
              "pattern": "^([1-9][0-9]?|100)%$",
              "examples": ["70%"]
            },
            "largeMemoryAllocationMaxPercentage": {
              "description": "The maximum amount of memory percentage that the JVM heap can use in relation to the container memory limit (when the container memory limit > 1.3 Gi)",
              "type": "string",
              "pattern": "^([1-9][0-9]?|100)%$",
              "examples": ["50%"]
            }
          },
          "required": [
            "initialMemoryAllocationPercentage",
            "smallMemoryAllocationMaxPercentage",
            "largeMemoryAllocationMaxPercentage"
          ]
        }
      },
      "required": ["limits", "jvm"]
    },
    "7121e7b2-2dce-4638-86f0-5d4d3470cf3d": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1126-011:v1",
      "title": "DR-D1126-011",
      "description": "ADP Service based on Java implementation SHALL define heap size percentage in relation to the container Limit",
      "$comment": "resources.*.jvm.largeMemoryAllocationMaxPercentage",
      "type": "object",
      "properties": {
        "limits": {
          "$comment": "Further constrains the resource limits defined in DR-D1126-005 to require that memory limits are set",
          "type": "object",
          "properties": {
            "memory": {
              "not": {"type": "null"}
            }
          },
          "required": ["memory"]
        },
        "jvm": {
          "description": "Java virtual machine",
          "type": "object",
          "properties": {
            "initialMemoryAllocationPercentage": {
              "description": "The initial amount of memory percentage that the JVM heap can use in relation to the container memory limit",
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "examples": [50]
            },
            "smallMemoryAllocationMaxPercentage": {
              "description": "The maximum amount of memory percentage that the JVM heap can use in relation to the container memory limit (when the container memory limit < 1.3 Gi)",
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "examples": [70]
            },
            "largeMemoryAllocationMaxPercentage": {
              "description": "The maximum amount of memory percentage that the JVM heap can use in relation to the container memory limit (when the container memory limit > 1.3 Gi)",
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "examples": [50]
            }
          },
          "required": [
            "initialMemoryAllocationPercentage",
            "smallMemoryAllocationMaxPercentage",
            "largeMemoryAllocationMaxPercentage"
          ]
        }
      },
      "required": ["limits", "jvm"]
    },
    "059d4e4c-9a30-4047-85f9-50d49d2f8ab0": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1126-030:v1",
      "title": "DR-D1126-030",
      "description": "Configuration of priority class to allow assigning priorities to Pods",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "servicePodPriority": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1126-030:v1/service-level",
          "$comment": "Common schema variant for a microservice with a single pod",
          "type": "object",
          "properties": {
            "podPriority": {"$ref": "urn:adp:helm:schemas:v1:DR-D1126-030:v1/podPriority"}
          },
          "required": ["podPriority"]
        },
        "podPriority": {
          "$id": "urn:adp:helm:schemas:v1:DR-D1126-030:v1/podPriority",
          "$comment": "Common schema fragment for the priorityClassName portion of podPriority",
          "type": "object",
          "properties": {
            "priorityClassName": {
              "description": "Pod priorityClass name",
              "type": ["string", "null"],
              "examples": ["high-priority", ""]
            }
          }
        }
      }
    },
    "ac068c2a-7c24-4e94-b9bb-c9052301d34a": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1126-050:v1",
      "title": "DR-D1126-050",
      "description": "Timezone configuration",
      "$comment": "global.timezone",
      "type": "object",
      "properties": {
        "global": {
          "type": ["object", "null"],
          "properties": {
            "timezone": {
              "description": "Timezone value following the IANA Timezone Database",
              "type": ["string", "null"],
              "examples": ["Europe/Kiev"]
            }
          }
        }
      }
    },
    "7e8ba8b9-d160-48d0-83aa-d0c94a25dc84": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D1134-320:v1",
      "title": "DR-D1134-320",
      "description": "The flavor that represents the wanted resource requests and limits",
      "$comment": "predefined resource flavor names listed in the service user guide",
      "type": "object",
      "properties": {
        "customObject": {
          "type": ["object", "null"],
          "properties": {
            "resources": {
              "type": ["object", "null"],
              "properties": {
                "flavor": {
                  "description": "null or empty string not allowed",
                  "type": ["string"],
                  "minLength": 1
                }
              }
            }
          }
        }
      }
    },
    "b788a93f-fcc6-4461-88b0-6188ce65beaa": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D470204-055-A:v1",
      "title": "DR-D470204-055-A",
      "deprecated": true,
      "description": "Storage class name specification for persistent volume claim",
      "$comment": "[*.]persistentVolumeClaim.storageClassName",
      "type": "object",
      "properties": {
        "persistentVolumeClaim": {
          "type": ["object"],
          "properties": {
            "storageClassName": {
              "description": "Name of the storage class for the persistent volume claim",
              "$comment": "k8sCheckedValue: [*.]persistentVolumeClaim.storageClassName",
              "examples": ["network-block"]
            }
          }
        }
      },
      "required": ["persistentVolumeClaim"]
    },
    "1ae02f97-3c5a-4b17-9a54-6aaf0cb35218": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D470204-057-A:v1",
      "title": "DR-D470204-057-A",
      "deprecated": true,
      "description": "Volume size request for persistent volume claim",
      "$comment": "[*.]persistentVolumeClaim.size",
      "type": "object",
      "properties": {
        "persistentVolumeClaim": {
          "type": ["object"],
          "properties": {
            "size": {
              "description": "Requested size of volume",
              "$comment": "k8sCheckedValue: [*.]persistentVolumeClaim.size",
              "examples": ["500Mi", "10Gi", 10000]
            }
          },
          "required": ["size"]
        }
      },
      "required": ["persistentVolumeClaim"]
    },
    "b4182c96-aeee-4173-9654-0ed7a8d5a5a4": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D470218-003-AD:v2",
      "title": "DR-D470218-003-AD",
      "description": "Backup & Restore Agent",
      "$comment": "brAgent.enabled",
      "type": "object",
      "properties": {
        "brAgent": {
          "type": ["object", "null"],
          "properties": {
            "enabled": {
              "description": "Option to enable or disable backup & restore agent",
              "type": "boolean",
              "examples": [true, false]
            }
          }
        }
      },
      "$defs": {
        "v1": {
          "$schema": "http://json-schema.org/draft-07/schema",
          "$id": "urn:adp:helm:schemas:v1:DR-D470218-003-AD:v1",
          "title": "DR-D470218-003-AD",
          "deprecated": true,
          "description": "Backup & Restore Agent",
          "$comment": "brAgent.enabled",
          "type": "object",
          "properties": {
            "brAgent": {
              "type": ["object", "null"],
              "properties": {
                "enabled": {
                  "description": "Option to enable or disable backup & restore agent",
                  "type": ["boolean", "null"],
                  "examples": [true, false]
                }
              }
            }
          }
        }
      }
    },
    "5d65dc10-4bd6-42d1-95ca-5ba19deea4a3": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D470218-006-AD:v1",
      "title": "DR-D470218-006-AD",
      "description": "Backup & Restore Agent Backup Types",
      "$comment": "brAgent.backupTypeList",
      "type": "object",
      "properties": {
        "brAgent": {
          "type": ["object", "null"],
          "properties": {
            "backupTypeList": {
              "description": "The list of backup types the backup & restore agent shall participate in",
              "type": ["array", "null"],
              "items": {"type": "string"},
              "examples": [
                ["configuration", "subscriberProfiles"]
              ]
            }
          }
        }
      }
    },
    "082f899d-279e-4b91-a94e-4d3912989bae": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D470222-010:v1",
      "title": "DR-D470222-010",
      "deprecated": true,
      "description": "Configuration of Log Collection Streaming Method",
      "$comment": "log.streamingMethod",
      "type": "object",
      "properties": {
        "global": {
          "type": ["object", "null"],
          "properties": {
            "log": {
              "type": "object",
              "properties": {
                "streamingMethod": {
                  "description": "Indicate which streaming method has to be chosen by all services to write log records",
                  "enum": ["indirect", "direct", "dual", null],
                  "examples": ["indirect", "direct", "dual"]
                }
              }
            }
          }
        },
        "log": {
          "type": "object",
          "properties": {
            "streamingMethod": {
              "description": "Sets streaming method that the service shall use to write log records. Overrides the global streamingMethod.",
              "enum": ["indirect", "direct", "dual", null],
              "examples": ["indirect", "direct", "dual"]
            }
          }
        }
      }
    },
    "e937a5de-2e5e-4274-91ce-d837ff2660c9": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:DR-D470222-030:v1",
      "title": "DR-D470222-030",
      "description": "Configuration of Log Collection Streaming Method",
      "$comment": "log.streamingMethod",
      "type": "object",
      "properties": {
        "global": {
          "type": ["object", "null"],
          "properties": {
            "log": {
              "type": "object",
              "properties": {
                "streamingMethod": {
                  "description": "Indicate which streaming method has to be chosen by all services to write log records",
                  "enum": ["indirect", "direct", "dual", null],
                  "examples": ["indirect", "direct", "dual"]
                }
              }
            }
          }
        },
        "log": {
          "type": "object",
          "properties": {
            "streamingMethod": {
              "description": "Sets streaming method that the service shall use to write log records. Overrides the global streamingMethod.",
              "enum": ["indirect", "direct", "dual", null],
              "examples": ["indirect", "direct", "dual"]
            }
          }
        }
      }
    },
    "b629ccf2-105a-4f26-9be0-f5e11c2c7e93": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:backup-and-restore:v1",
      "title": "Backup and Restore",
      "description": "Global backup and restore parameters",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "brLabelKey": {
          "$id": "urn:adp:helm:schemas:v1:backup-and-restore:v1/global/adpBR/brLabelKey",
          "$comment": "Common schema for global Backup and Restore Agent Discovery configuration",
          "type": ["object"],
          "properties": {
            "global": {
              "type": ["object", "null"],
              "properties": {
                "adpBR": {
                  "type": ["object", "null"],
                  "properties": {
                    "brLabelKey": {
                      "description": "Label used to identify Backup and Restore Agents. Only needed for Backup and Restore Agent discovery.",
                      "type": ["string", "null"],
                      "default": "adpbrlabelkey",
                      "examples": ["custombrlabelkey"]
                    }
                  }
                }
              }
            }
          }
        },
        "broGrpcServicePort": {
          "$id": "urn:adp:helm:schemas:v1:backup-and-restore:v1/global/adpBR/broGrpcServicePort",
          "$comment": "Common schema for global Backup and Restore Orchestrator GRPC interface configuration",
          "type": ["object"],
          "properties": {
            "global": {
              "type": ["object", "null"],
              "properties": {
                "adpBR": {
                  "type": ["object", "null"],
                  "properties": {
                    "broGrpcServicePort": {
                      "description": "The port which exposes the Backup and Restore Orchestrator's GRPC interface.",
                      "type": ["integer", "null"],
                      "minimum": 1,
                      "maximum": 65535,
                      "default": 3000,
                      "examples": [3001]
                    }
                  }
                }
              }
            }
          }
        },
        "broServiceName": {
          "$id": "urn:adp:helm:schemas:v1:backup-and-restore:v1/global/adpBR/broServiceName",
          "$comment": "Common schema for global Backup and Restore Orchestrator Service name configuration",
          "type": ["object"],
          "properties": {
            "global": {
              "type": ["object", "null"],
              "properties": {
                "adpBR": {
                  "type": ["object", "null"],
                  "properties": {
                    "broServiceName": {
                      "description": "The release name of the Backup and Restore Orchestrator Service.",
                      "$comment": "This is a string that must be a valid hostname. K8s adds more restrictions, but we don't want to hardcode them here.",
                      "type": ["string", "null"],
                      "pattern": "^[a-zA-Z0-9]([-a-zA-Z0-9]*[a-zA-Z0-9])?(\\.[a-zA-Z0-9]([-a-zA-Z0-9]*[a-zA-Z0-9])?)*$",
                      "default": "eric-ctrl-bro",
                      "examples": ["custom-bro"]
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "1a92cb37-1eef-464e-9c0b-92f2b7748b19": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:cabootstrap-method:v1",
      "title": "Certificate authority bootstrap method",
      "description": "Global certificate authority bootstrap method parameter",
      "$comment": "global.featureGates.caBootstrap_v2",
      "properties": {
        "global": {
          "type": ["object", "null"],
          "properties": {
            "featureGates": {
              "type": ["object", "null"],
              "properties": {
                "caBootstrap_v2": {
                  "description": "Certificate authority bootstrap method, false means bootstrap by SIP-TLS, true means bootstrap by KMS.",
                  "type": ["boolean", "null"],
                  "examples": [true, false]
                }
              }
            }
          }
        }
      }
    },
    "c0bacc35-c3b7-4b52-80f1-352adcdd7f56": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:container-probes-common:v1",
      "title": "Common ADP container probe configuration",
      "description": "Common definition for container probes and their inter-dependencies",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "basicContainerProbe": {
          "$id": "urn:adp:helm:schemas:v1:container-probes-common:v1/basicContainerProbe",
          "$comment": "Container probe configuration (without success threshold)",
          "type": "object",
          "properties": {
            "initialDelaySeconds": {
              "description": "Initial delay before checking the probe",
              "minimum": 0,
              "examples": [0]
            },
            "failureThreshold": {
              "description": "Maximum number of failed probes before a container is restarted",
              "minimum": 1,
              "examples": [3]
            },
            "periodSeconds": {
              "description": "How often to perform a probe",
              "minimum": 1,
              "examples": [10]
            },
            "timeoutSeconds": {
              "description": "How long to wait for a probe before failing",
              "minimum": 1,
              "examples": [1]
            }
          }
        },
        "fullContainerProbe": {
          "$id": "urn:adp:helm:schemas:v1:container-probes-common:v1/fullContainerProbe",
          "$comment": "Container probe configuration (with success threshold)",
          "allOf": [
            {"$ref": "urn:adp:helm:schemas:v1:container-probes-common:v1/basicContainerProbe"},
            {
              "properties": {
                "successThreshold": {
                  "description": "Minimum number of consecutive successes for a probe to be considered successful after having failed. Must be 1 for liveness and startup probes.",
                  "minimum": 1,
                  "examples": [1]
                }
              }
            }
          ]
        }
      }
    },
    "3c7ad572-c37d-49a9-8457-6f128c5dc032": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:helm-schema-validation-conditions:v1",
      "title": "Helm Schema Validation Conditions",
      "description": "Helm Schema Validation Conditions",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "validation-true": {
          "$id": "urn:adp:helm:schemas:v1:helm-schema-validation-conditions:v1/helmSchemaValidation-true",
          "$comment": "Condition for global.featureGates.helmSchemaValidation set to true",
          "properties": {
            "global": {
              "type": "object",
              "properties": {
                "featureGates": {
                  "type": "object",
                  "properties": {
                    "helmSchemaValidation": {"const": true}
                  },
                  "required": ["helmSchemaValidation"]
                }
              },
              "required": ["featureGates"]
            }
          },
          "required": ["global"]
        },
        "validation-not-false": {
          "$id": "urn:adp:helm:schemas:v1:helm-schema-validation-conditions:v1/helmSchemaValidation-not-false",
          "$comment": "Condition for global.featureGates.helmSchemaValidation not set to false",
          "not": {
            "properties": {
              "global": {
                "type": "object",
                "properties": {
                  "featureGates": {
                    "type": "object",
                    "properties": {
                      "helmSchemaValidation": {"const": false}
                    },
                    "required": ["helmSchemaValidation"]
                  }
                },
                "required": ["featureGates"]
              }
            },
            "required": ["global"]
          }
        },
        "strictValidation-true": {
          "$id": "urn:adp:helm:schemas:v1:helm-schema-validation-conditions:v1/helmSchemaStrictValidation-true",
          "$comment": "Condition for global.featureGates.helmSchemaStrictValidation set to true",
          "properties": {
            "global": {
              "type": "object",
              "properties": {
                "featureGates": {
                  "type": "object",
                  "properties": {
                    "helmSchemaStrictValidation": {"const": true}
                  },
                  "required": ["helmSchemaStrictValidation"]
                }
              },
              "required": ["featureGates"]
            }
          },
          "required": ["global"]
        },
        "strictValidation-not-false": {
          "$id": "urn:adp:helm:schemas:v1:helm-schema-validation-conditions:v1/helmSchemaStrictValidation-not-false",
          "$comment": "Condition for global.featureGates.helmSchemaStrictValidation not set to false",
          "not": {
            "properties": {
              "global": {
                "type": "object",
                "properties": {
                  "featureGates": {
                    "type": "object",
                    "properties": {
                      "helmSchemaStrictValidation": {"const": false}
                    },
                    "required": ["helmSchemaStrictValidation"]
                  }
                },
                "required": ["featureGates"]
              }
            },
            "required": ["global"]
          }
        }
      }
    },
    "a90377ab-2808-43cc-9a7e-cccd31981f5e": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:hook-launcher:v1",
      "title": "Hook Launcher",
      "description": "Global hook launcher parameters",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "globalHooklauncherExecutor": {
          "$id": "urn:adp:helm:schemas:v1:hook-launcher:v1/global/hooklauncher/executor",
          "$comment": "Common schema for global Hook Launcher Executor",
          "type": ["object", "null"],
          "properties": {
            "global": {
              "type": ["object", "null"],
              "properties": {
                "hooklauncher": {
                  "type": ["object", "null"],
                  "properties": {
                    "executor": {
                      "description": "If set to service, hooks for handling upgrades and rollbacks will be executed by this chart. If set to integration, all hooks for handling upgrades and rollbacks will be executed by Hooklauncher(s) in the defined integration chart(s) (see executorCharts).",
                      "enum": ["service", "integration", null],
                      "default": "service",
                      "examples": ["service", "integration"]
                    }
                  }
                }
              }
            }
          }
        },
        "globalHooklauncherExecutorCharts": {
          "$id": "urn:adp:helm:schemas:v1:hook-launcher:v1/global/hooklauncher/executorCharts",
          "$comment": "Common schema for global Hook Launcher Executor charts",
          "type": ["object", "null"],
          "properties": {
            "global": {
              "type": ["object", "null"],
              "properties": {
                "hooklauncher": {
                  "type": ["object", "null"],
                  "properties": {
                    "executorCharts": {
                      "description": "If global.hooklauncher.executor is set to integration, the integration chart names can be set in this parameter as an array that should run the Hooklauncher jobs rendering their subchart trees and taking care of all subchart hook execution.",
                      "type": ["array", "null"],
                      "items": {"type": "string"},
                      "examples": [
                        ["chartOne", "chartTwo"]
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "hooklauncher": {
          "$id": "urn:adp:helm:schemas:v1:hook-launcher:v1/hooklauncher",
          "$comment": "Common schema for Hook Launcher parameters",
          "type": ["object", "null"],
          "properties": {
            "hooklauncher": {
              "type": ["object", "null"],
              "properties": {
                "backoffLimit": {
                  "description": "Set backoffLimit for the hooklauncher jobs",
                  "$comment": "k8sCheckedValue: hooklauncher.backoffLimit",
                  "examples": [6]
                },
                "cleanup": {
                  "description": "Tell hooklauncher to delete jobs and its pods after execution",
                  "oneOf": [
                    {
                      "type": ["boolean", "null"]
                    },
                    {
                      "enum": ["true", "false", "onSuccess"]
                    }
                  ],
                  "examples": [true, "onSuccess"]
                },
                "terminateEarlyOnFailure": {
                  "description": "Tell hooklauncher to exit immediately on a failure from a dispatched job",
                  "type": ["boolean", "string", "null"],
                  "examples": [true, false]
                }
              }
            }
          }
        }
      }
    },
    "b509d24e-481a-4c86-af79-0e9fb2bf0196": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:labels-and-annotations-common:v1",
      "type": "object",
      "title": "Common ADP label and annotation",
      "description": "Common definition for labels and annotations",
      "$defs": {
        "labels": {
          "$id": "urn:adp:helm:schemas:v1:labels-and-annotations-common:v1/labels",
          "description": "K8s labels added to all managed resources",
          "type": ["null", "object"],
          "additionalProperties": {
            "description": "K8s label added to all managed resources",
            "$comment": "k8sCheckedValue: [*.]labels"
          },
          "examples": [
            {
              "ericsson.com/my-info-key": "my-info-value",
              "ericsson.com/more-key": "more-value"
            }
          ]
        },
        "annotations": {
          "$id": "urn:adp:helm:schemas:v1:labels-and-annotations-common:v1/annotations",
          "description": "K8s annotations added to all managed resources",
          "type": ["null", "object"],
          "additionalProperties": {
            "description": "K8s annotation added to all managed resources",
            "$comment": "k8sCheckedValue: [*.]annotations"
          },
          "examples": [
            {
              "ericsson.com/my-info-key": "my-info-value",
              "ericsson.com/more-key": "more-value"
            }
          ]
        }
      }
    },
    "8058ecb4-9315-4ee5-ad59-288d04111ce8": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:license-management:v1",
      "title": "License Management",
      "description": "Global license management parameters",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "licenseDomains": {
          "$id": "urn:adp:helm:schemas:v1:license-management:v1/global/ericsson/licensing/licenseDomains",
          "$comment": "Common schema for global License Domains",
          "type": ["object"],
          "properties": {
            "global": {
              "type": ["object", "null"],
              "properties": {
                "ericsson": {
                  "type": ["object", "null"],
                  "properties": {
                    "licensing": {
                      "type": ["object", "null"],
                      "properties": {
                        "licenseDomains": {
                          "description": "A list of License Domains used by the Network Function",
                          "type": ["array"],
                          "minItems": 1,
                          "uniqueItems": true,
                          "items": {
                            "type": ["object"],
                            "properties": {
                              "productType": {
                                "description": "A productType according to the ELIM specification, 198 18-1/FCK 111 034 Uen",
                                "type": "string",
                                "pattern": "^[A-Za-z0-9_ -]{2,52}$"
                              },
                              "swltId": {
                                "description": "A swltId according to the ELIM specification, 198 18-1/FCK 111 034 Uen",
                                "type": "string",
                                "pattern": "^[A-Za-z0-9/_ -]{5,255}$"
                              },
                              "customerId": {
                                "description": "A customerId according to the ELIM specification, 198 18-1/FCK 111 034 Uen",
                                "type": "string",
                                "pattern": "^[A-Za-z0-9_-]{1,18}$"
                              }
                            },
                            "required": ["productType", "swltId", "customerId"]
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "f23ad897-0783-4e23-9b15-b9e50d59ab60": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:logging:v1",
      "title": "Logging",
      "deprecated": true,
      "description": "Global logging parameters",
      "$comment": "Use the relevant schema fragment(s) below rather than the main schema",
      "allOf": [false],
      "$defs": {
        "outputs": {
          "$id": "urn:adp:helm:schemas:v1:logging:v1/global/log/outputs",
          "$comment": "Common schema for global log redirection",
          "deprecated": true,
          "type": ["object"],
          "properties": {
            "global": {
              "type": ["object", "null"],
              "properties": {
                "log": {
                  "type": ["object", "null"],
                  "properties": {
                    "outputs": {
                      "description": "Sets the log outputs. Supported values are either one/both of ['k8sLevel', 'applicationLevel'] or one/both of ['stdout', 'stream']. k8sLevel or stdout is the normal k8s behavior, while applicationLevel or stream initializes a Log Shipper sidecar with direct log streaming to Log Transformer service.",
                      "$comment": "Most services document that they support either 'k8sLevel'/'applicationLevel' or 'stdout'/'stream'. This schema cannot guarantee that setting this parameter will work at all.",
                      "type": ["array", "null"],
                      "items": {
                        "enum": [
                          "k8sLevel",
                          "applicationLevel",
                          "stdout",
                          "stream"
                        ]
                      },
                      "examples": [
                        ["k8sLevel"],
                        ["stdout", "stream"]
                      ]
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "f93b3263-356f-4d98-b73e-a46a70371663": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:security-sasl:v1",
      "title": "Security SASL enabled parameter",
      "description": "Parameter to enable or disable Global Security SASL",
      "$comment": "global.security.sasl.enabled",
      "properties": {
        "global": {
          "type": ["object", "null"],
          "properties": {
            "security": {
              "type": ["object", "null"],
              "properties": {
                "sasl": {
                  "type": ["object", "null"],
                  "properties": {
                    "enabled": {
                      "description": "Enable/Disable SASL in the service.",
                      "type": ["boolean", "null"],
                      "examples": [true, false]
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "483f8c14-9d75-4dd9-8156-35d667c306f9": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "$id": "urn:adp:helm:schemas:v1:service-networking-common:v1",
      "type": "object",
      "title": "Common ADP service manifest networking configuration",
      "description": "Common definition for service networking parameters in ADP",
      "$defs": {
        "loadBalancerIP": {
          "$id": "urn:adp:helm:schemas:v1:service-networking-common:v1/loadBalancerIP",
          "description": "VIP Address to be used for the service if set to type LoadBalancer",
          "type": ["string", "null"],
          "$comment": "k8sCheckedValue: [*.]loadBalancerIP",
          "examples": ["10.0.0.2", ""]
        },
        "sharedVIPLabel": {
          "$id": "urn:adp:helm:schemas:v1:service-networking-common:v1/sharedVIPLabel",
          "description": "The value used with the annotation key to indicate the VIP address is being shared among ADP services that are using the same label",
          "type": ["string", "null"],
          "examples": ["oam"]
        },
        "addressPoolName": {
          "$id": "urn:adp:helm:schemas:v1:service-networking-common:v1/addressPoolName",
          "description": "The name of the ECM FE address pool from which to retrieve a VIP address",
          "type": ["string", "null"],
          "examples": ["addressPool1"]
        }
      }
    }
  }
}
